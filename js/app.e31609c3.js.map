{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/DragAndDroppableArea.vue?845a","webpack:///./src/components/ImageBitmapImg.vue?f23c","webpack:///./src/assets/logo.svg","webpack:///./src/components/MaterialView.vue?058a","webpack:///./src/views/Home.vue?33cf","webpack:///./src/App.vue?bc53","webpack:///./src/components/HelloWorld.vue?d459","webpack:///./src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?cbb5","webpack:///./src/components/HelloWorld.vue?fcc2","webpack:///./src/App.vue","webpack:///./src/App.vue?640d","webpack:///./src/App.vue?b1ee","webpack:///./src/views/Home.vue?254f","webpack:///./src/components/VRMCanvasView.vue?0b6a","webpack:///./src/components/VRMCanvasView.vue","webpack:///./src/components/VRMCanvasView.vue?ff94","webpack:///./src/components/VRMCanvasView.vue?44b1","webpack:///./src/components/MetaView.vue?5b1a","webpack:///./src/components/ImageBitmapImg.vue?9429","webpack:///./src/components/ImageBitmapImg.vue","webpack:///./src/components/ImageBitmapImg.vue?65d5","webpack:///./src/components/ImageBitmapImg.vue?d94f","webpack:///./src/components/DragAndDroppableArea.vue?a89f","webpack:///./src/components/DragAndDroppableArea.vue","webpack:///./src/components/DragAndDroppableArea.vue?9db0","webpack:///./src/components/DragAndDroppableArea.vue?b625","webpack:///./src/components/MetaView.vue","webpack:///./src/components/MetaView.vue?2589","webpack:///./src/components/MetaView.vue?86f0","webpack:///./src/components/MaterialView.vue?bef4","webpack:///./src/components/MaterialView.vue","webpack:///./src/components/MaterialView.vue?763e","webpack:///./src/components/MaterialView.vue?23f8","webpack:///./src/components/ModelInfoView.vue?90f6","webpack:///./src/components/ShowBoneButton.vue?c6f5","webpack:///./src/components/ShowBoneButton.vue","webpack:///./src/components/ShowBoneButton.vue?ae9b","webpack:///./src/components/ShowBoneButton.vue?827e","webpack:///./src/components/ModelInfoView.vue","webpack:///./src/components/ModelInfoView.vue?0ceb","webpack:///./src/components/ModelInfoView.vue?a14e","webpack:///./src/components/ExportButton.vue?d039","webpack:///./src/scripts/VRMExporter.ts","webpack:///./src/scripts/VRMMetaUtils.ts","webpack:///./src/components/ExportButton.vue","webpack:///./src/components/ExportButton.vue?44b1","webpack:///./src/components/ExportButton.vue?ce97","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?102e","webpack:///./src/views/Home.vue?38f2","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./src/components/MetaView.vue?c425"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","staticClass","attrs","_v","_l","next","href","_s","text","link","eco","extend","ecosystem","importantLinks","whatsNext","component","VCol","VContainer","VImg","VRow","components","HelloWorld","VApp","VMain","on","reloadPage","class","active","currentTab","$event","changeTab","directives","rawName","expression","meta","exporterVersion","materials","vrmObject","vrm","loadVrm","onFileChange","_e","scene","renderer","camera","innerWidth","innerHeight","light","gridHelper","axesHelper","controls","$canvas","getElementById","width","height","antialias","canvas","setSize","setPixelRatio","devicePixelRatio","position","set","rotation","Math","PI","OrbitControls","domElement","screenSpacePanning","update","initScene","requestAnimationFrame","animate","newObject","add","immediate","title","version","author","allowedUserName","commercialUssageName","sexualUssageName","violentUssageName","licenseName","otherLicenseUrl","otherPermissionUrl","contactInformation","reference","changeIconFile","texture","image","staticStyle","scopedSlots","_u","fn","ref","hover","convertImageBitmap2Base64","imageBitmap","showInfo","getContext","drawImage","toDataURL","default","VHover","VListItemAvatar","outline","isDragOver","preventDefault","onDrag","onDrop","_t","dataTransfer","files","file","url","URL","createObjectURL","$emit","objects","filter","includes","map","children","mesh","geometry","groups","count","reduce","sum","forEach","userData","targetNames","Image","_","createImageBitmap","then","ImageBitmapImg","DragAndDroppableArea","VSimpleTable","toUniqueMaterialInfos","materialInfo","index","material","vrmMaterialProperties","shader","side","convertRGB2Hex","color","round","Number","x","g","y","b","z","toString","materialInfos","Array","info","indexOf","indices","VCard","VListItem","VListItemContent","VList","VListItemSubtitle","VListItemTitle","getMeshCount","getPolygonCount","getBoneCount","getBlendShapeCount","isShowing","hideBone","showBone","rootBone","child","boneObject","generateBoneSupporter","remove","node","parentNode","transparent","depthWrite","depthTest","lineGeometry","vertices","getWorldPosition","newLine","VBtn","attributes","getChildrenCount","parent","ShowBoneButton","WEBGL_CONST","exportVRM","ToOutputVRMMeta","vrmMeta","icon","outputImage","BLENDSHAPE_PREFIX","MORPH_CONTROLLER_PREFIX","SPRINGBONE_COLLIDER_NAME","EXPORTER_VERSION","onDone","humanoid","blendShapeProxy","lookAt","springBone","springBoneManager","exporterInfo","generator","uniqueMaterials","self","findIndex","uniqueMaterialNames","images","outputImages","toOutputImages","outputSamplers","toOutputSamplers","outputTextures","toOutputTextures","outputMaterials","toOutputMaterials","rootNode","VRMObjectType","Bone","nodes","getNodes","nodeNames","outputNodes","childNode","quaternion","w","scale","translation","outputAccessors","meshes","Group","SkinnedMesh","meshDatas","MeshData","FLOAT","MeshDataType","POSITION","AccessorsType","VEC3","normal","NORMAL","uv","UV","VEC2","skinWeight","SKIN_WEIGHT","VEC4","skinIndex","UNSIGNED_SHORT","SKIN_INDEX","subMeshes","subMesh","UNSIGNED_INT","INDEX","SCALAR","morphTargetDictionary","morphIndexPair","entries","targetName","morphIndex","pair","morphAttribute","morphAttributes","BLEND_POSITION","BLEND_NORMAL","inverseBindMatrices","Float32Array","skeleton","boneInverses","boneInv","elements","flat","BIND_MATRIX","MAT4","meshData","bufferView","byteOffset","componentType","valueType","attribute","max","min","normalized","accessorsType","outputMeshes","toOutputMeshes","group","skin","secondaryRootNode","outputSkins","toOutputSkins","blendShapeMaster","blendShapeGroups","values","_blendShapeGroups","blendShape","binds","_binds","morphTargetIndex","weight","isBinary","materialValues","_materialValues","replace","presetName","blendShapePresetMap","firstPerson","_firstPersonBoneOffset","vrmFirstPerson","firstPersonBone","_firstPersonBone","firstPersonBoneOffset","lookAtHorizontalInner","curve","applyer","_curveHorizontalInner","xRange","radian2Degree","curveXRangeDegree","yRange","curveYRangeDegree","lookAtHorizontalOuter","_curveHorizontalOuter","lookAtTypeName","lookAtVerticalDown","_curveVerticalDown","lookAtVerticalUp","_curveVerticalUp","meshAnnotations","annotation","firstPersonFlag","vrmHumanoid","armStretch","humanDescription","feetSpacing","hasTranslationDoF","humanBones","bone","useDefaultValues","legStretch","lowerArmTwist","lowerLegTwist","upperArmTwist","upperLegTwist","materialProperties","outputVrmMeta","outputSecondaryAnimation","toOutputSecondaryAnimation","bufferViews","buffer","imageBitmap2png","IMAGE","bufferOffset","imageIndex","accessorIndex","outputBufferViews","byteLength","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","outputScenes","toOutputScenes","outputData","accessors","asset","buffers","extensions","VRM","secondaryAnimation","specVersion","extensionsUsed","samplers","scenes","skins","textures","jsonChunk","GlbChunk","parseString2Binary","JSON","stringify","binaryChunk","concatBinary","buf","fileData","header","parseNumber2Binary","radian","concat","pngUrl","atob","split","array","ArrayBuffer","view","DataView","setUint8","charCodeAt","number","size","setUint32","str","TextEncoder","encode","arrays","sumLength","output","Uint8Array","pos","parseBinary","attr","componentTypeSize","offset","itemSize","a","getX","getY","getZ","getW","setUint16","setFloat32","paddedLength","ceil","paddedArray","meshName","from","MaterialType","extras","primitives","meshTypes","materialName","isArray","JOINTS_0","TEXCOORD_0","WEIGHTS_0","targets","joints","bones","baseColor","MToonMaterial","mtoonMaterial","otherMaterial","baseTexture","KHR_texture_transform","texCoord","metallicFactor","MeshStandardMaterial","metalness","MeshBasicMaterial","roughnessFactor","roughness","alphaCutoff","alphaTest","alphaMode","doubleSided","KHR_materials_unlit","pbrMetallicRoughness","baseColorFactor","baseColorTexture","mimeType","magFilter","LINEAR","minFilter","wrapS","REPEAT","wrapT","sampler","source","Object3D","boneGroups","springBoneGroupList","center","colliderGroups","dragForce","gravityDir","gravityPower","hitRadius","radius","stiffiness","stiffnessForce","colliders","boundingSphere","exporter","parse","fileName","blob","Blob","download","click","loader","GLTFLoader","load","gltf","log","vrmExtension","gltfExtensions","progress","loaded","total","tabNumber","location","reload","VRMCanvas","MetaView","MaterialView","ModelInfoView","ExportButton","VAppBar","VIcon","VSpacer","VTab","VTabs","VToolbarTitle","VToolbar","use","routes","path","router","base","Store","state","mutations","actions","config","productionTip","store","vuetify","h","App","$mount"],"mappings":"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","file":"js/app.e31609c3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"af831328\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vrm-avatar-editor/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragAndDroppableArea.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageBitmapImg.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.63a7d78d.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialView.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"text-center\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-img',{staticClass:\"my-3\",attrs:{\"src\":require('../assets/logo.svg'),\"contain\":\"\",\"height\":\"200\"}})],1),_c('v-col',{staticClass:\"mb-4\"},[_c('h1',{staticClass:\"display-2 font-weight-bold mb-3\"},[_vm._v(\"Welcome to Vuetify\")]),_c('p',{staticClass:\"subheading font-weight-regular\"},[_vm._v(\" For help and collaboration with other Vuetify developers, \"),_c('br'),_vm._v(\"please join our online \"),_c('a',{attrs:{\"href\":\"https://community.vuetifyjs.com\",\"target\":\"_blank\"}},[_vm._v(\"Discord Community\")])])]),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"What's next?\")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.whatsNext),function(next,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":next.href,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(next.text)+\" \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"Important Links\")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.importantLinks),function(link,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":link.href,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(link.text)+\" \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"Ecosystem\")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.ecosystem),function(eco,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":eco.href,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(eco.text)+\" \")])}),0)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n  name: \"HelloWorld\",\n\n  data: () => ({\n    ecosystem: [\n      {\n        text: \"vuetify-loader\",\n        href: \"https://github.com/vuetifyjs/vuetify-loader\",\n      },\n      {\n        text: \"github\",\n        href: \"https://github.com/vuetifyjs/vuetify\",\n      },\n      {\n        text: \"awesome-vuetify\",\n        href: \"https://github.com/vuetifyjs/awesome-vuetify\",\n      },\n    ],\n    importantLinks: [\n      {\n        text: \"Documentation\",\n        href: \"https://vuetifyjs.com\",\n      },\n      {\n        text: \"Chat\",\n        href: \"https://community.vuetifyjs.com\",\n      },\n      {\n        text: \"Made with Vuetify\",\n        href: \"https://madewithvuejs.com/vuetify\",\n      },\n      {\n        text: \"Twitter\",\n        href: \"https://twitter.com/vuetifyjs\",\n      },\n      {\n        text: \"Articles\",\n        href: \"https://medium.com/vuetify\",\n      },\n    ],\n    whatsNext: [\n      {\n        text: \"Explore components\",\n        href: \"https://vuetifyjs.com/components/api-explorer\",\n      },\n      {\n        text: \"Select a layout\",\n        href: \"https://vuetifyjs.com/getting-started/pre-made-layouts\",\n      },\n      {\n        text: \"Frequently Asked Questions\",\n        href:\n          \"https://vuetifyjs.com/getting-started/frequently-asked-questions\",\n      },\n    ],\n  }),\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HelloWorld.vue?vue&type=template&id=08f729da&\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=ts&\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VImg,VRow})\n","\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport HelloWorld from \"./components/HelloWorld.vue\";\n\nexport default Vue.extend({\n  name: \"App\",\n\n  components: {\n    HelloWorld,\n  },\n\n  data: () => ({\n    //\n  }),\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=32c7a24a&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home full\"},[_c('v-app-bar',{attrs:{\"danse\":\"\",\"dark\":\"\",\"id\":\"app-bar\"}},[_c('v-toolbar-title',[_vm._v(\"VRM Avatar Editor\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"href\":\"https://github.com/gatosyocora/vrm-avatar-editor/issues/new\",\"target\":\"_blank\"}},[_vm._v(\"Issue\")]),_c('v-btn',{attrs:{\"href\":\"https://github.com/gatosyocora/vrm-avatar-editor\",\"target\":\"_blank\"}},[_vm._v(\"GitHub\")]),_c('v-btn',{attrs:{\"href\":\"https://github.com/gatosyocora/vrm-avatar-editor/blob/master/README.md\",\"target\":\"_blank\"}},[_vm._v(\"License\")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.reloadPage}},[_c('v-icon',[_vm._v(\"mdi-cached\")])],1)],1),_c('p',{attrs:{\"id\":\"message\"}},[_vm._v(\" VRM \")]),_c('div',{staticClass:\"full-height\",attrs:{\"id\":\"menu\"}},[_c('v-card',{staticClass:\"full-height\"},[_c('v-tabs',{attrs:{\"fixed-tabs\":\"\",\"dark\":\"\"}},[_c('v-tab',{class:{ active: _vm.currentTab === 0 },on:{\"click\":function($event){return _vm.changeTab(0)}}},[_vm._v(\"Meta\")]),_c('v-tab',{class:{ active: _vm.currentTab === 1 },on:{\"click\":function($event){return _vm.changeTab(1)}}},[_vm._v(\"Materials\")]),_c('v-tab',{class:{ active: _vm.currentTab === 2 },on:{\"click\":function($event){return _vm.changeTab(2)}}},[_vm._v(\"Model\")])],1),_c('div',{staticClass:\"margin-area contents\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 0),expression:\"currentTab === 0\"}]},[_c('MetaView',{attrs:{\"meta\":_vm.meta,\"exporterVersion\":_vm.exporterVersion}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 1),expression:\"currentTab === 1\"}]},[_c('MaterialView',{attrs:{\"materials\":_vm.materials}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 2),expression:\"currentTab === 2\"}]},[_c('ModelInfoView',{attrs:{\"vrmObject\":_vm.vrmObject,\"materials\":_vm.materials}})],1),_c('ExportButton',{attrs:{\"vrm\":_vm.vrm}})],1)],1)],1),_c('div',{staticClass:\"full\",attrs:{\"id\":\"main\"}},[_c('div',{staticClass:\"top full\"},[(_vm.vrmObject === null)?_c('DragAndDroppableArea',{staticClass:\"layer2 layer full\",on:{\"onDropFile\":_vm.loadVrm}},[_c('div',{staticClass:\"white-color\"},[_c('center',[_vm._v(\" VRM&\"),_c('br'),_c('p',[_c('input',{attrs:{\"type\":\"file\",\"accept\":\".vrm\"},on:{\"change\":_vm.onFileChange}})])])],1)]):_vm._e(),_c('VRMCanvas',{staticClass:\"layer1 layer full\",attrs:{\"vrmObject\":_vm.vrmObject}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"id\":\"canvas\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport {\n  Component,\n  Prop,\n  Provide,\n  ProvideReactive,\n  Vue,\n  Watch,\n} from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { VRM, VRMMeta } from \"@pixiv/three-vrm\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { Bone, Object3D, Vector3 } from \"three\";\n\n@Component\nexport default class VRMCanvasView extends Vue {\n  @ProvideReactive(\"scene\")\n  private scene: THREE.Scene | null = null;\n  private renderer: THREE.WebGLRenderer | null = null;\n  private camera = new THREE.PerspectiveCamera(\n    75,\n    window.innerWidth / window.innerHeight,\n    0.1,\n    1000\n  );\n  private light = new THREE.DirectionalLight(0xffffff, 2);\n  private gridHelper = new THREE.GridHelper(10, 10);\n  private axesHelper = new THREE.AxesHelper(5);\n  private controls: OrbitControls | null = null;\n\n  @Prop()\n  public meta!: VRMMeta | undefined | null;\n\n  @Prop()\n  public materials!: THREE.Material[] | undefined | null;\n\n  @Prop()\n  public vrmObject!: THREE.Scene | THREE.Group | null;\n\n  mounted() {\n    const $canvas = <HTMLCanvasElement>document.getElementById(\"canvas\");\n    if ($canvas === null) return;\n\n    $canvas.width = window.innerWidth;\n    $canvas.height = window.innerHeight;\n\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      canvas: $canvas,\n    });\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n\n    this.camera.position.set(0, 1, -1.5);\n    this.camera.rotation.set(0, Math.PI, 0);\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n    this.controls.screenSpacePanning = true;\n    this.controls.target.set(0.0, 1.0, 0.0);\n    this.controls.update();\n    this.light.position.set(0, 0, -10);\n    this.initScene();\n  }\n  animate() {\n    if (!this.scene) return;\n    requestAnimationFrame(this.animate);\n    this.renderer!.render(this.scene, this.camera);\n  }\n\n  @Watch(\"vrmObject\", { immediate: true })\n  public updateVrm(newObject: THREE.Scene | THREE.Group) {\n    if (!this.scene) return;\n\n    if (this.vrmObject) {\n      this.initScene();\n    }\n    this.vrmObject = newObject;\n\n    if (newObject === null) return;\n\n    // add the loaded vrm to the scene\n    this.scene.add(this.vrmObject);\n  }\n\n  initScene() {\n    this.scene = new THREE.Scene();\n    this.scene.add(this.light);\n    this.scene.add(this.gridHelper);\n    this.scene.add(this.axesHelper);\n    this.animate();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VRMCanvasView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VRMCanvasView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VRMCanvasView.vue?vue&type=template&id=6b8f5d59&\"\nimport script from \"./VRMCanvasView.vue?vue&type=script&lang=ts&\"\nexport * from \"./VRMCanvasView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.meta)?_c('div',[_c('v-simple-table',[_c('tbody',[_c('tr',[_c('td',[_vm._v(\"Title\")]),_c('td',[_vm._v(_vm._s(_vm.meta.title))])]),_c('tr',[_c('td',[_vm._v(\"Version\")]),_c('td',[_vm._v(_vm._s(_vm.meta.version))])]),_c('tr',[_c('td',[_vm._v(\"Author\")]),_c('td',[_vm._v(_vm._s(_vm.meta.author))])]),_c('tr',[_c('td',[_vm._v(\"AllowUser\")]),_c('td',[_vm._v(_vm._s(_vm.meta.allowedUserName))])]),_c('tr',[_c('td',[_vm._v(\"CommercialUssage\")]),_c('td',[_vm._v(_vm._s(_vm.meta.commercialUssageName))])]),_c('tr',[_c('td',[_vm._v(\"SexualUssage\")]),_c('td',[_vm._v(_vm._s(_vm.meta.sexualUssageName))])]),_c('tr',[_c('td',[_vm._v(\"ViolentUssage\")]),_c('td',[_vm._v(_vm._s(_vm.meta.violentUssageName))])]),_c('tr',[_c('td',[_vm._v(\"LicenseName\")]),_c('td',[_vm._v(_vm._s(_vm.meta.licenseName))])]),_c('tr',[_c('td',[_vm._v(\"OtherLicense\")]),_c('td',[_c('a',{attrs:{\"href\":_vm.meta.otherLicenseUrl,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.meta.otherLicenseUrl)+\" \")])])]),_c('tr',[_c('td',[_vm._v(\"OtherPermission\")]),_c('td',[_c('a',{attrs:{\"href\":_vm.meta.otherPermissionUrl,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.meta.otherPermissionUrl)+\" \")])])]),_c('tr',[_c('td',[_vm._v(\"ContactInformation\")]),_c('td',[_c('a',{attrs:{\"href\":_vm.meta.contactInformation,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.meta.contactInformation)+\" \")])])]),_c('tr',[_c('td',[_vm._v(\"Reference\")]),_c('td',[_vm._v(_vm._s(_vm.meta.reference))])]),_c('tr',[_c('td',[_vm._v(\"Icon\")]),_c('td',[_c('DragAndDroppableArea',{on:{\"onDropFile\":_vm.changeIconFile}},[_c('ImageBitmapImg',{attrs:{\"imageBitmap\":_vm.meta.texture ? _vm.meta.texture.image : undefined,\"showInfo\":false}})],1)],1)]),_c('tr',[_c('td',[_vm._v(\"ExporterVersion\")]),_c('td',[_vm._v(_vm._s(_vm.exporterVersion))])])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"0 10px 0 10px\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-list-item-avatar',{attrs:{\"rounded\":\"\",\"size\":\"80\",\"color\":\"white\"}},[(_vm.imageBitmap)?_c('v-img',{attrs:{\"src\":_vm.convertImageBitmap2Base64(_vm.imageBitmap)}},[(_vm.showInfo && hover)?_c('div',{staticClass:\"tex-info unselectable\"},[_vm._v(\" \"+_vm._s(_vm.imageBitmap.width)+\"x\"+_vm._s(_vm.imageBitmap.height)+\" \")]):_vm._e()]):_c('span',{staticStyle:{\"color\":\"black\"}},[_vm._v(\" none \")])],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\r\nimport * as THREE from \"three\";\r\n\r\ninterface MaterialInfo {\r\n  name: string;\r\n  material: THREE.Material;\r\n  indices: Array<number>;\r\n}\r\n\r\n@Component\r\nexport default class ImageBitmapImg extends Vue {\r\n  @Prop()\r\n  public imageBitmap!: ImageBitmap;\r\n\r\n  /**  */\r\n  @Prop({ default: true })\r\n  public showInfo!: boolean;\r\n\r\n  public convertImageBitmap2Base64(image: ImageBitmap): string {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = image.width;\r\n    canvas.height = image.height;\r\n    canvas.getContext(\"2d\")!.drawImage(image, 0, 0);\r\n    return canvas.toDataURL();\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageBitmapImg.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageBitmapImg.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImageBitmapImg.vue?vue&type=template&id=42f1bfb0&\"\nimport script from \"./ImageBitmapImg.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImageBitmapImg.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ImageBitmapImg.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VHover,VImg,VListItemAvatar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ outline: _vm.isDragOver },on:{\"dragover\":function($event){$event.preventDefault();return _vm.onDrag('over')},\"dragleave\":function($event){$event.preventDefault();return _vm.onDrag('leave')},\"drop\":function($event){$event.preventDefault();return _vm.onDrop($event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\r\n\r\n@Component\r\nexport default class DragAndDroppableArea extends Vue {\r\n  @Prop({ default: false })\r\n  public isDragOver!: boolean;\r\n\r\n  public onDrag(type: string) {\r\n    this.isDragOver = type === \"over\";\r\n  }\r\n  public onDrop(e: DragEvent) {\r\n    if (e.dataTransfer === null || e.dataTransfer.files === null) return;\r\n\r\n    this.isDragOver = false;\r\n    const file = e.dataTransfer.files[0];\r\n    const url: string = window.URL.createObjectURL(file);\r\n    this.$emit(\"onDropFile\", url);\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragAndDroppableArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragAndDroppableArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DragAndDroppableArea.vue?vue&type=template&id=60d11980&\"\nimport script from \"./DragAndDroppableArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./DragAndDroppableArea.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DragAndDroppableArea.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { VRM, VRMMeta } from \"@pixiv/three-vrm\";\n\nimport { Arrays, VRMSkinnedMesh, VRMGroup } from \"@/scripts/VRMInterface\";\n\nimport ImageBitmapImg from \"@/components/ImageBitmapImg.vue\";\nimport DragAndDroppableArea from \"@/components/DragAndDroppableArea.vue\";\n\n@Component({\n  components: {\n    ImageBitmapImg,\n    DragAndDroppableArea,\n  },\n})\nexport default class MetaView extends Vue {\n  @Prop()\n  public meta!: VRMMeta | undefined | null;\n\n  @Prop()\n  public vrmObject!: THREE.Scene | THREE.Group | null;\n\n  @Prop()\n  public exporterVersion!: string;\n\n  public getMeshCount(objects: Arrays): Number {\n    return objects.filter((object) =>\n      [\"Group\", \"SkinnedMesh\"].includes(object.type)\n    ).length;\n  }\n\n  public getPolygonCount(objects: Arrays): Number {\n    return (\n      objects\n        .filter((object) =>\n          [\"Group\", \"SkinnedMesh\", \"Object3D\"].includes(object.type)\n        )\n        .map((object) => {\n          if ([\"Group\", \"Object3D\"].includes(object.type)) {\n            if (object.children.length <= 0) return 0;\n            return object.children\n              .map((mesh) => (mesh as VRMSkinnedMesh).geometry.groups[0].count)\n              .reduce((sum, value) => sum + value, 0);\n          } else if (object.type === \"SkinnedMesh\") {\n            return (object as VRMSkinnedMesh).geometry.groups[0].count;\n          } else {\n            return object.children\n              .map((mesh) => (mesh as VRMSkinnedMesh).geometry.groups[0].count)\n              .reduce((sum, value) => sum + value, 0);\n          }\n        })\n        .reduce((sum, value) => sum + value, 0) / 3\n    );\n  }\n\n  public getBlendShapeCount(objects: Arrays): Number {\n    let count = 0;\n    objects.forEach((object) => {\n      if (object.type === \"Group\") {\n        count += (object as VRMGroup).children[0].geometry.userData.targetNames\n          .length;\n      }\n    });\n    return count;\n  }\n\n  public changeIconFile(url: string) {\n    const image = new Image();\n    image.onload = (_) => {\n      Promise.resolve(createImageBitmap(image)).then((data) => {\n        if (this.meta) {\n          if (!this.meta.texture) {\n            this.meta.texture = new THREE.Texture();\n          }\n          this.meta.texture.image = data;\n        }\n      });\n    };\n    image.src = url;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetaView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetaView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MetaView.vue?vue&type=template&id=addfeb74&\"\nimport script from \"./MetaView.vue?vue&type=script&lang=ts&\"\nexport * from \"./MetaView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MetaView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VSimpleTable})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.materials)?_c('div',_vm._l((_vm.toUniqueMaterialInfos(_vm.materials)),function(materialInfo,index){return _c('div',{key:index},[_c('v-card',{staticClass:\"card\",attrs:{\"dark\":\"\"}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(materialInfo.material.name)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(materialInfo.material.userData.vrmMaterialProperties.shader)+\" \")]),_c('v-list-item-subtitle',[(materialInfo.material.side === 0)?_c('div',[_vm._v(\"FrontSide\")]):(materialInfo.material.side === 1)?_c('div',[_vm._v(\"BackSide\")]):_c('div',[_vm._v(\"BothSide\")])])],1),(materialInfo.material.color)?_c('v-list-item-avatar',{attrs:{\"size\":\"80\",\"color\":_vm.convertRGB2Hex(materialInfo.material.color)}}):_vm._e(),(materialInfo.material.map && materialInfo.material.map.image)?_c('ImageBitmapImg',{attrs:{\"imageBitmap\":materialInfo.material.map.image}}):_vm._e()],1)],1)],1)}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\n\nimport ImageBitmapImg from \"@/components/ImageBitmapImg.vue\";\n\ninterface MaterialInfo {\n  name: string;\n  material: THREE.Material;\n  indices: Array<number>;\n}\n\n@Component({\n  components: { ImageBitmapImg },\n})\nexport default class MaterialView extends Vue {\n  @Prop()\n  public materials!: Array<THREE.Material> | undefined | null;\n\n  @Prop()\n  public uniqueMaterialInfos!: Array<MaterialInfo> | null;\n\n  public convertRGB2Hex(color: THREE.Vector3 | THREE.Vector4): String {\n    const r = Math.round(Number(color.x) * 255);\n    const g = Math.round(Number(color.y) * 255);\n    const b = Math.round(Number(color.z) * 255);\n    return \"#\" + r.toString(16) + g.toString(16) + b.toString(16);\n  }\n\n  public toUniqueMaterialInfos(\n    materials: Array<THREE.Material>\n  ): Array<MaterialInfo> {\n    const materialInfos = Array<MaterialInfo>();\n    for (let i = 0; i < materials.length; i++) {\n      const index = materialInfos\n        .map((info) => info.name)\n        .indexOf(materials[i].name);\n      if (index === -1) {\n        materialInfos.push({\n          name: materials[i].name,\n          material: materials[i],\n          indices: [i],\n        });\n      } else {\n        materialInfos[index].indices.push(i);\n      }\n    }\n    return materialInfos;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialView.vue?vue&type=template&id=b2f1dc68&\"\nimport script from \"./MaterialView.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCard,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.vrmObject)?_c('div',[_c('v-simple-table',[_c('tbody',[(_vm.vrmObject.children !== null)?_c('tr',[_c('td',[_vm._v(\"Mesh Count\")]),_c('td',[_vm._v(_vm._s(_vm.getMeshCount(_vm.vrmObject.children)))]),_c('td')]):_vm._e(),(_vm.materials !== null)?_c('tr',[_c('td',[_vm._v(\"SubMesh Count\")]),_c('td',[_vm._v(_vm._s(_vm.materials.length))]),_c('td')]):_vm._e(),(_vm.vrmObject.children !== null)?_c('tr',[_c('td',[_vm._v(\"Polygon Count\")]),_c('td',[_vm._v(_vm._s(_vm.getPolygonCount(_vm.vrmObject.children)))]),_c('td')]):_vm._e(),(_vm.vrmObject.children !== null)?_c('tr',[_c('td',[_vm._v(\"Bone Count\")]),_c('td',[_vm._v(_vm._s(_vm.getBoneCount(_vm.vrmObject.children)))]),_c('td',[_c('ShowBoneButton')],1)]):_vm._e(),(_vm.vrmObject.children !== null)?_c('tr',[_c('td',[_vm._v(\"BlendShape Count\")]),_c('td',[_vm._v(_vm._s(_vm.getBlendShapeCount(_vm.vrmObject.children)))]),_c('td')]):_vm._e()])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{on:{\"click\":function($event){!_vm.isShowing ? _vm.showBone() : _vm.hideBone()}}},[(!_vm.isShowing)?_c('div',[_vm._v(\"Show\")]):_c('div',[_vm._v(\"Hide\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\r\nimport { Component, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\r\nimport * as THREE from \"three\";\r\nimport { VRM } from \"@pixiv/three-vrm\";\r\n\r\nimport { Bone, Line, LineBasicMaterial, Object3D, Scene, Vector3 } from \"three\";\r\n\r\n@Component\r\nexport default class ShowBoneButton extends Vue {\r\n  @InjectReactive(\"vrmObject\")\r\n  private vrmObject!: THREE.Scene | THREE.Group | null;\r\n\r\n  @InjectReactive(\"scene\")\r\n  private scene!: Scene | null;\r\n\r\n  public boneObject!: Line | null;\r\n\r\n  @Prop({ default: false })\r\n  isShowing!: boolean;\r\n\r\n  public showBone() {\r\n    if (!this.vrmObject || !this.scene || this.isShowing) return;\r\n\r\n    const rootBone = this.vrmObject!.children.filter(\r\n      (child) => child.children.length > 0 && child.children[0].type === \"Bone\"\r\n    )[0];\r\n    this.boneObject = this.generateBoneSupporter(rootBone);\r\n    this.scene.add(this.boneObject);\r\n\r\n    this.isShowing = true;\r\n  }\r\n\r\n  public hideBone() {\r\n    if (!this.boneObject || !this.scene || !this.isShowing) return;\r\n\r\n    this.scene.remove(this.boneObject);\r\n    this.isShowing = false;\r\n  }\r\n\r\n  generateBoneSupporter(\r\n    node: Object3D | Bone,\r\n    parentNode?: Object3D | Bone,\r\n    material?: LineBasicMaterial\r\n  ): Line {\r\n    if (!material) {\r\n      material = new THREE.LineBasicMaterial({\r\n        color: 0xff0000,\r\n        transparent: true,\r\n        depthWrite: false,\r\n        depthTest: false,\r\n      });\r\n    }\r\n\r\n    const lineGeometry = new THREE.Geometry();\r\n    if (parentNode) {\r\n      lineGeometry.vertices.push(\r\n        parentNode.getWorldPosition(new Vector3(0, 0, 0)),\r\n        node.getWorldPosition(new Vector3(0, 0, 0))\r\n      );\r\n    }\r\n    const newLine = new THREE.Line(lineGeometry, material);\r\n    newLine.name = node.name;\r\n    node.children.forEach((child) => {\r\n      newLine.children.push(this.generateBoneSupporter(child, node, material));\r\n    });\r\n    return newLine;\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowBoneButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowBoneButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ShowBoneButton.vue?vue&type=template&id=4afe8c78&\"\nimport script from \"./ShowBoneButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./ShowBoneButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\n\nimport { Arrays, VRMSkinnedMesh, VRMGroup } from \"@/scripts/VRMInterface\";\n\nimport ShowBoneButton from \"@/components/ShowBoneButton.vue\";\n\n@Component({\n  components: {\n    ShowBoneButton,\n  },\n})\nexport default class ModelInfoView extends Vue {\n  @Prop()\n  public materials!: THREE.Material[] | null;\n\n  @Prop()\n  public vrmObject!: THREE.Scene | THREE.Group | null;\n\n  public getMeshCount(objects: Arrays): Number {\n    return objects.filter((object) =>\n      [\"Group\", \"SkinnedMesh\"].includes(object.type)\n    ).length;\n  }\n\n  public getPolygonCount(objects: Arrays): Number {\n    return objects\n      .filter((object) => [\"Group\", \"SkinnedMesh\"].includes(object.type))\n      .map((object) => {\n        if (object.type === \"Group\") {\n          return (object.children[0] as VRMSkinnedMesh).geometry.attributes\n            .position.count;\n        } else {\n          return (object as VRMSkinnedMesh).geometry.attributes.position.count;\n        }\n      })\n      .reduce((sum, value) => sum + value, 0);\n  }\n\n  public getBoneCount(objects: Arrays): Number {\n    return this.getChildrenCount(\n      objects.filter(\n        (object) =>\n          object.children.length > 0 && object.children[0].type === \"Bone\"\n      )[0]\n    );\n  }\n\n  public getChildrenCount(parent: THREE.Object3D | THREE.Bone): number {\n    if (parent.children.length === 0) return 0;\n    else {\n      return (\n        parent.children\n          .map((child) => this.getChildrenCount(child))\n          .reduce((sum: number, value: number) => sum + value, 0) +\n        parent.children.length\n      );\n    }\n  }\n\n  public getBlendShapeCount(objects: Arrays): Number {\n    let count = 0;\n    objects.forEach((object) => {\n      if (object.type === \"Group\") {\n        const userData = (object as VRMGroup).children[0].geometry.userData;\n        count += userData.targetNames ? userData.targetNames.length : 0;\n      } else if (object.type === \"SkinnedMesh\") {\n        const userData = (object as VRMSkinnedMesh).geometry.userData;\n        count += userData.targetNames ? userData.targetNames.length : 0;\n      }\n    });\n    return count;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelInfoView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelInfoView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelInfoView.vue?vue&type=template&id=653545d2&\"\nimport script from \"./ModelInfoView.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelInfoView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VSimpleTable})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{attrs:{\"block\":\"\",\"color\":\"primary\",\"disabled\":_vm.vrm === null},on:{\"click\":_vm.exportVRM}},[_vm._v(\" Export VRM (beta) \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { VRM, MToonMaterial, VRMSpringBoneManager } from \"@pixiv/three-vrm\";\nimport {\n  BufferAttribute,\n  MeshStandardMaterial,\n  MeshBasicMaterial,\n  Bone,\n  Object3D,\n  Scene,\n  Group,\n} from \"three\";\nimport { VRMSkinnedMesh } from \"@/scripts/VRMInterface\";\nimport { ToOutputVRMMeta } from \"./VRMMetaUtils\";\nimport {\n  OutputSkin,\n  OutputBaseTexture,\n  OutputMaterial,\n  OutputMesh,\n  OutputNode,\n  OutputAccessor,\n  OutputBufferView,\n  OutputImage,\n  OutputSampler,\n  OutputTexture,\n  OutputScene,\n  OutputVRM,\n  OutputSecondaryAnimation,\n} from \"./OutputVRMInterfaces\";\n\n// WebGL(OpenGL)\nenum WEBGL_CONST {\n  ARRAY_BUFFER = 34962,\n  ELEMENT_ARRAY_BUFFER = 34963,\n  BYTE = 5120,\n  UNSIGNED_BYTE = 5121,\n  SHORT = 5122,\n  UNSIGNED_SHORT = 5123,\n  UNSIGNED_INT = 5125,\n  FLOAT = 5126,\n  LINEAR = 9729,\n  REPEAT = 10497,\n}\n\nconst BLENDSHAPE_PREFIX = \"blend_\";\nconst MORPH_CONTROLLER_PREFIX = \"BlendShapeController_\";\nconst SPRINGBONE_COLLIDER_NAME = \"vrmColliderSphere\";\n\nconst EXPORTER_VERSION = \"UniVRM-0.64.0\";\n\ntype VRMMaterial = MeshBasicMaterial | MeshStandardMaterial | MToonMaterial;\n\nexport default class VRMExporter {\n  parse(vrm: VRM, onDone: (buffer: ArrayBuffer) => void): void {\n    const scene = vrm.scene;\n    const humanoid = vrm.humanoid;\n    const vrmMeta = vrm.meta;\n    const materials = vrm.materials;\n    const blendShapeProxy = vrm.blendShapeProxy;\n    const lookAt = vrm.lookAt;\n    const springBone = vrm.springBoneManager;\n\n    const exporterInfo = {\n      // TODO: \n      generator: \"UniGLTF-2.0.0\",\n      version: \"2.0\",\n    };\n\n    // TODO: \n    if (!scene) {\n      throw new Error(\"scene is undefined or null\");\n    } else if (!humanoid) {\n      throw new Error(\"humanoid is undefined or null\");\n    } else if (!vrmMeta) {\n      throw new Error(\"meta is undefined or null\");\n    } else if (!materials) {\n      throw new Error(\"materials is undefined or null\");\n    } else if (!blendShapeProxy) {\n      throw new Error(\"blendShapeProxy is undefined or null\");\n    } else if (!lookAt) {\n      throw new Error(\"lookAt is undefined or null\");\n    } else if (!springBone) {\n      throw new Error(\"springBone is undefined or null\");\n    }\n\n    // TODO: name \n    const uniqueMaterials = materials\n      .filter(\n        (material, index, self) =>\n          self.findIndex((e) => e.name === material.name) === index\n      )\n      .map((material) => material as VRMMaterial);\n    const uniqueMaterialNames = uniqueMaterials.map(\n      (material) => material.name\n    );\n    const icon: VRMImageData | null = vrmMeta.texture\n      ? { name: \"icon\", imageBitmap: vrmMeta.texture.image }\n      : null; // TODO: \n    const images: Array<VRMImageData> = uniqueMaterials\n      .filter((material) => material.map)\n      .map((material) => {\n        if (!material.map) throw new Error(material.name + \" map is null\");\n        return { name: material.name, imageBitmap: material.map.image };\n      }); // TODO: Material\n    const outputImages = toOutputImages(images, icon);\n    const outputSamplers = toOutputSamplers(outputImages);\n    const outputTextures = toOutputTextures(outputImages);\n\n    const outputMaterials = toOutputMaterials(uniqueMaterials, images);\n\n    const rootNode = scene.children.filter(\n      (child) =>\n        child.children.length > 0 &&\n        child.children[0].type === VRMObjectType.Bone\n    )[0];\n    const nodes = getNodes(rootNode).filter(\n      (node) => node.name !== SPRINGBONE_COLLIDER_NAME\n    );\n    const nodeNames = nodes.map((node) => node.name);\n    const outputNodes: Array<OutputNode> = nodes.map((node) => ({\n      children: node.children\n        .filter((childNode) => childNode.name !== SPRINGBONE_COLLIDER_NAME)\n        .map((childNode) => nodeNames.indexOf(childNode.name)),\n      name: node.name,\n      rotation: [\n        node.quaternion.x,\n        node.quaternion.y,\n        node.quaternion.z,\n        node.quaternion.w,\n      ],\n      scale: [node.scale.x, node.scale.y, node.scale.z],\n      translation: [node.position.x, node.position.y, node.position.z],\n    }));\n\n    const outputAccessors: Array<OutputAccessor> = [];\n\n    const meshes = scene.children.filter(\n      (child) =>\n        child.type === VRMObjectType.Group ||\n        child.type === VRMObjectType.SkinnedMesh\n    );\n\n    const meshDatas: Array<MeshData> = [];\n    meshes.forEach((object) => {\n      const mesh = (object.type === VRMObjectType.Group\n        ? object.children[0]\n        : object) as VRMSkinnedMesh;\n      const attributes = mesh.geometry.attributes;\n      meshDatas.push(\n        new MeshData(\n          attributes.position,\n          WEBGL_CONST.FLOAT,\n          MeshDataType.POSITION,\n          AccessorsType.VEC3,\n          mesh.name,\n          undefined\n        )\n      );\n      meshDatas.push(\n        new MeshData(\n          attributes.normal,\n          WEBGL_CONST.FLOAT,\n          MeshDataType.NORMAL,\n          AccessorsType.VEC3,\n          mesh.name,\n          undefined\n        )\n      );\n      meshDatas.push(\n        new MeshData(\n          attributes.uv,\n          WEBGL_CONST.FLOAT,\n          MeshDataType.UV,\n          AccessorsType.VEC2,\n          mesh.name,\n          undefined\n        )\n      );\n      meshDatas.push(\n        new MeshData(\n          attributes.skinWeight,\n          WEBGL_CONST.FLOAT,\n          MeshDataType.SKIN_WEIGHT,\n          AccessorsType.VEC4,\n          mesh.name,\n          undefined\n        )\n      );\n      meshDatas.push(\n        new MeshData(\n          attributes.skinIndex,\n          WEBGL_CONST.UNSIGNED_SHORT,\n          MeshDataType.SKIN_INDEX,\n          AccessorsType.VEC4,\n          mesh.name,\n          undefined\n        )\n      );\n\n      const subMeshes =\n        object.type === VRMObjectType.Group\n          ? object.children.map((child) => child as VRMSkinnedMesh)\n          : [object as VRMSkinnedMesh];\n      subMeshes.forEach((subMesh) => {\n        if (!subMesh.geometry.index) {\n          throw new Error(subMesh.name + \" geometry.index is null\");\n        }\n        meshDatas.push(\n          new MeshData(\n            subMesh.geometry.index,\n            WEBGL_CONST.UNSIGNED_INT,\n            MeshDataType.INDEX,\n            AccessorsType.SCALAR,\n            mesh.name,\n            subMesh.name\n          )\n        );\n      });\n\n      // TODO: undefiend\n      if (!mesh.morphTargetDictionary) {\n        throw new Error(mesh.name + \" morphTargetDictionary is null\");\n      }\n\n      const morphIndexPair = Object.entries(mesh.morphTargetDictionary);\n      if (mesh.geometry.userData.targetNames) {\n        mesh.geometry.userData.targetNames.forEach((targetName) => {\n          const morphIndex = morphIndexPair.filter(\n            (pair) => pair[0] === targetName\n          )[0][1];\n          const morphAttribute = mesh.geometry.morphAttributes;\n          meshDatas.push(\n            new MeshData(\n              morphAttribute.position[morphIndex],\n              WEBGL_CONST.FLOAT,\n              MeshDataType.BLEND_POSITION,\n              AccessorsType.VEC3,\n              mesh.name,\n              BLENDSHAPE_PREFIX + targetName\n            )\n          );\n          meshDatas.push(\n            new MeshData(\n              morphAttribute.normal[morphIndex],\n              WEBGL_CONST.FLOAT,\n              MeshDataType.BLEND_NORMAL,\n              AccessorsType.VEC3,\n              mesh.name,\n              BLENDSHAPE_PREFIX + targetName\n            )\n          );\n        });\n      }\n    });\n\n    // inverseBindMatrices length = 16(matrix) * 4 * \n    // TODO: rootNodeBonematrix\n    meshes.forEach((object) => {\n      const mesh = (object.type === VRMObjectType.Group\n        ? object.children[0]\n        : object) as VRMSkinnedMesh;\n      const inverseBindMatrices = new Float32Array(\n        mesh.skeleton.boneInverses.map((boneInv) => boneInv.elements).flat()\n      );\n      meshDatas.push(\n        new MeshData(\n          new BufferAttribute(inverseBindMatrices, 16),\n          WEBGL_CONST.FLOAT,\n          MeshDataType.BIND_MATRIX,\n          AccessorsType.MAT4,\n          mesh.name,\n          mesh.name\n        )\n      );\n    });\n\n    outputAccessors.push(\n      ...meshDatas.map((meshData) => ({\n        bufferView: -1,\n        byteOffset: 0,\n        componentType: meshData.valueType,\n        count: meshData.attribute.count,\n        max: meshData.max,\n        min: meshData.min,\n        normalized: false,\n        type: meshData.accessorsType,\n      }))\n    );\n\n    const outputMeshes = toOutputMeshes(meshes, meshDatas, uniqueMaterialNames);\n\n    // mesh\n    meshes.forEach((group, index) => {\n      outputNodes.push({\n        mesh: index,\n        name: group.name,\n        rotation: [\n          group.quaternion.x,\n          group.quaternion.y,\n          group.quaternion.z,\n          group.quaternion.w,\n        ],\n        scale: [group.scale.x, group.scale.y, group.scale.z],\n        skin: index,\n        translation: [group.position.x, group.position.y, group.position.z],\n      });\n    });\n\n    // secondary\n    const secondaryRootNode = scene.children.filter(\n      (child) => child.name === \"secondary\"\n    )[0];\n    outputNodes.push({\n      name: secondaryRootNode.name,\n      rotation: [\n        secondaryRootNode.quaternion.x,\n        secondaryRootNode.quaternion.y,\n        secondaryRootNode.quaternion.z,\n        secondaryRootNode.quaternion.w,\n      ],\n      scale: [\n        secondaryRootNode.scale.x,\n        secondaryRootNode.scale.y,\n        secondaryRootNode.scale.z,\n      ],\n      translation: [\n        secondaryRootNode.position.x,\n        secondaryRootNode.position.y,\n        secondaryRootNode.position.z,\n      ],\n    });\n\n    const outputSkins = toOutputSkins(meshes, meshDatas, nodeNames);\n\n    // TODO: javascript\n    const blendShapeMaster = {\n      // @ts-ignore: Unreachable code error\n      blendShapeGroups: Object.values(blendShapeProxy._blendShapeGroups).map(\n        (blendShape) => ({\n          // @ts-ignore: Unreachable code error\n          binds: blendShape._binds.map((bind) => ({\n            index: bind.morphTargetIndex,\n            mesh: outputMeshes\n              .map((mesh) => mesh.name)\n              .indexOf(bind.meshes[0].name),\n            weight: bind.weight * 100,\n          })),\n          // @ts-ignore: Unreachable code error\n          isBinary: blendShape.isBinary,\n          // @ts-ignore: Unreachable code error\n          materialValues: blendShape._materialValues,\n          // @ts-ignore: Unreachable code error\n          name: blendShape.name.replace(MORPH_CONTROLLER_PREFIX, \"\"),\n          presetName: Object.entries(\n            blendShapeProxy.blendShapePresetMap\n          ).filter(\n            (x) =>\n              // @ts-ignore: Unreachable code error\n              x[1] === blendShape.name.replace(MORPH_CONTROLLER_PREFIX, \"\")\n          )[0][0],\n        })\n      ),\n    };\n\n    // TODO: javascript\n    // @ts-ignore: Unreachable code error\n    lookAt.firstPerson._firstPersonBoneOffset.z *= -1; // TODO:\n    const vrmFirstPerson = {\n      firstPersonBone: nodeNames.indexOf(\n        // @ts-ignore: Unreachable code error\n        lookAt.firstPerson._firstPersonBone.name\n      ),\n      // @ts-ignore: Unreachable code error\n      firstPersonBoneOffset: lookAt.firstPerson._firstPersonBoneOffset,\n      lookAtHorizontalInner: {\n        // @ts-ignore: Unreachable code error\n        curve: lookAt.applyer._curveHorizontalInner.curve,\n        xRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveHorizontalInner.curveXRangeDegree\n        ),\n        yRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveHorizontalInner.curveYRangeDegree\n        ),\n      },\n      lookAtHorizontalOuter: {\n        // @ts-ignore: Unreachable code error\n        curve: lookAt.applyer._curveHorizontalOuter.curve,\n        xRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveHorizontalOuter.curveXRangeDegree\n        ),\n        yRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveHorizontalOuter.curveYRangeDegree\n        ),\n      },\n      // @ts-ignore: Unreachable code error\n      lookAtTypeName: lookAt.applyer.type,\n      lookAtVerticalDown: {\n        // @ts-ignore: Unreachable code error\n        curve: lookAt.applyer._curveVerticalDown.curve,\n        xRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveVerticalDown.curveXRangeDegree\n        ),\n        yRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveVerticalDown.curveYRangeDegree\n        ),\n      },\n      lookAtVerticalUp: {\n        // @ts-ignore: Unreachable code error\n        curve: lookAt.applyer._curveVerticalUp.curve,\n        xRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveVerticalUp.curveXRangeDegree\n        ),\n        yRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveVerticalUp.curveYRangeDegree\n        ),\n      },\n      meshAnnotations: lookAt.firstPerson.meshAnnotations.map((annotation) => ({\n        firstPersonFlag: annotation.firstPersonFlag === 0 ? \"Auto\" : \"\", // TODO: \n        mesh: outputMeshes\n          .map((mesh) => mesh.name)\n          .indexOf(\n            annotation.mesh.children.length > 0\n              ? annotation.mesh.children[0].name\n              : annotation.mesh.name\n          ), // TODO: \n      })),\n    };\n\n    const vrmHumanoid = {\n      armStretch: humanoid.humanDescription.armStretch,\n      feetSpacing: humanoid.humanDescription.feetSpacing,\n      hasTranslationDoF: humanoid.humanDescription.hasTranslationDoF,\n      humanBones: Object.entries(humanoid.humanBones)\n        .filter((x) => x[1].length > 0)\n        .map((x) => ({\n          bone: x[0],\n          node: nodeNames.indexOf(x[1][0].node.name),\n          useDefaultValues: true, // TODO:\n        })),\n      legStretch: humanoid.humanDescription.legStretch,\n      lowerArmTwist: humanoid.humanDescription.lowerArmTwist,\n      lowerLegTwist: humanoid.humanDescription.lowerLegTwist,\n      upperArmTwist: humanoid.humanDescription.upperArmTwist,\n      upperLegTwist: humanoid.humanDescription.upperLegTwist,\n    };\n\n    const materialProperties = materials.map(\n      (material) => material.userData.vrmMaterialProperties\n    );\n\n    const outputVrmMeta = ToOutputVRMMeta(vrmMeta, icon, outputImages);\n    const outputSecondaryAnimation = toOutputSecondaryAnimation(\n      springBone,\n      nodeNames\n    );\n\n    const bufferViews: Array<BufferView> = [];\n    bufferViews.push(\n      ...images.map((image) => ({\n        buffer: imageBitmap2png(image.imageBitmap),\n        type: MeshDataType.IMAGE,\n      }))\n    );\n    bufferViews.push(\n      ...meshDatas.map((data) => ({ buffer: data.buffer, type: data.type }))\n    );\n    if (icon)\n      bufferViews.push({\n        buffer: imageBitmap2png(icon.imageBitmap),\n        type: MeshDataType.IMAGE,\n      });\n\n    /* png\n        images.forEach((image, index) => {\n            const fileName = \"test\"+index.toString()+\".png\";\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = image.imageBitmap.width;\n            canvas.height = image.imageBitmap.height;\n            canvas.getContext('2d').drawImage(image.imageBitmap, 0, 0);\n            canvas.toBlob((blob) =>{\n                console.log(blob);\n                const link = document.createElement(\"a\");\n                link.href = URL.createObjectURL(blob);\n                link.download = fileName;\n                // link.click();\n            }, \"image/png\", 1.0);\n        });\n        */\n\n    let bufferOffset = 0;\n    let imageIndex = 0;\n    let accessorIndex = 0;\n    const outputBufferViews: Array<OutputBufferView> = bufferViews.map(\n      (bufferView, index) => {\n        const value = {\n          buffer: 0,\n          byteLength: bufferView.buffer.byteLength,\n          byteOffset: bufferOffset,\n          target:\n            bufferView.type === MeshDataType.IMAGE ||\n            bufferView.type === MeshDataType.BIND_MATRIX\n              ? undefined\n              : bufferView.type === MeshDataType.INDEX\n              ? WEBGL_CONST.ELEMENT_ARRAY_BUFFER\n              : WEBGL_CONST.ARRAY_BUFFER, // TODO: Mesh/indicesELEMENT...\n        };\n        bufferOffset += bufferView.buffer.byteLength;\n        if (bufferView.type === MeshDataType.IMAGE) {\n          outputImages[imageIndex++].bufferView = index;\n        } else {\n          outputAccessors[accessorIndex++].bufferView = index;\n        }\n        return value;\n      }\n    );\n\n    const outputScenes = toOutputScenes(scene, outputNodes);\n\n    const outputData: OutputVRM = {\n      accessors: outputAccessors, // buffer - \n      asset: exporterInfo, // TODO:\n      buffers: [\n        {\n          byteLength: bufferOffset,\n        },\n      ],\n      bufferViews: outputBufferViews,\n      extensions: {\n        VRM: {\n          blendShapeMaster: blendShapeMaster,\n          exporterVersion: EXPORTER_VERSION,\n          firstPerson: vrmFirstPerson,\n          humanoid: vrmHumanoid,\n          materialProperties: materialProperties,\n          meta: outputVrmMeta,\n          secondaryAnimation: outputSecondaryAnimation,\n          specVersion: \"0.0\", // TODO:\n        },\n      },\n      extensionsUsed: [\n        \"KHR_materials_unlit\", // TODO:\n        \"KHR_texture_transform\", // TODO:\n        \"VRM\",\n      ],\n      images: outputImages,\n      materials: outputMaterials,\n      meshes: outputMeshes,\n      nodes: outputNodes,\n      samplers: outputSamplers,\n      scene: 0,\n      scenes: outputScenes,\n      skins: outputSkins,\n      textures: outputTextures,\n    };\n\n    const jsonChunk = new GlbChunk(\n      parseString2Binary(JSON.stringify(outputData, undefined, 2)),\n      \"JSON\"\n    );\n    const binaryChunk = new GlbChunk(\n      concatBinary(bufferViews.map((buf) => buf.buffer)),\n      \"BIN\\x00\"\n    );\n    const fileData = concatBinary([jsonChunk.buffer, binaryChunk.buffer]);\n    const header = concatBinary([\n      parseString2Binary(\"glTF\"),\n      parseNumber2Binary(2, 4),\n      parseNumber2Binary(fileData.byteLength + 12, 4),\n    ]);\n    onDone(concatBinary([header, fileData]));\n  }\n}\n\nfunction radian2Degree(radian: number) {\n  return radian * (180 / Math.PI);\n}\n\nfunction getNodes(parentNode: Object3D | Bone): Array<Object3D | Bone> {\n  if (parentNode.children.length <= 0) return [parentNode];\n  return [parentNode].concat(\n    parentNode.children.map((child) => getNodes(child)).flat()\n  );\n}\n\nfunction imageBitmap2png(image: ImageBitmap) {\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = image.width;\n  canvas.height = image.height;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  canvas.getContext(\"2d\")!.drawImage(image, 0, 0);\n  const pngUrl = canvas.toDataURL(\"image/png\");\n  const data = atob(pngUrl.split(\",\")[1]);\n  const array = new ArrayBuffer(data.length);\n  const view = new DataView(array);\n  for (let i = 0; i < data.length; i++) {\n    view.setUint8(i, data.charCodeAt(i));\n  }\n  return array;\n}\n\nfunction parseNumber2Binary(number: number, size: number) {\n  const buf = new ArrayBuffer(size);\n  const view = new DataView(buf);\n  view.setUint32(0, number, true);\n  return buf;\n}\n\nfunction parseString2Binary(str: string): ArrayBuffer {\n  return new TextEncoder().encode(str).buffer;\n}\n\nfunction concatBinary(arrays: Array<ArrayBuffer>) {\n  let sumLength = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    sumLength += arrays[i].byteLength;\n  }\n  const output = new Uint8Array(sumLength);\n  let pos = 0;\n  for (let i = 0; i < arrays.length; ++i) {\n    output.set(new Uint8Array(arrays[i]), pos);\n    pos += arrays[i].byteLength;\n  }\n  return output.buffer;\n}\n\nfunction parseBinary(attr: BufferAttribute, componentType: number) {\n  const componentTypeSize =\n    componentType === WEBGL_CONST.UNSIGNED_SHORT ? 2 : 4;\n  const array = attr.array;\n  let offset = 0;\n  const buf = new ArrayBuffer(attr.count * attr.itemSize * componentTypeSize);\n  const view = new DataView(buf);\n  for (let i = 0; i < attr.count; i++) {\n    for (let a = 0; a < attr.itemSize; a++) {\n      let value: number;\n      if (attr.itemSize > 4) {\n        value = array[i * attr.itemSize + a];\n      } else {\n        if (a === 0) value = attr.getX(i);\n        else if (a === 1) value = attr.getY(i);\n        else if (a === 2) value = attr.getZ(i);\n        else value = attr.getW(i);\n      }\n\n      if (componentType === WEBGL_CONST.UNSIGNED_SHORT) {\n        view.setUint16(offset, value, true);\n      } else if (componentType === WEBGL_CONST.UNSIGNED_INT) {\n        view.setUint32(offset, value, true);\n      } else {\n        view.setFloat32(offset, value, true);\n      }\n      offset += componentTypeSize;\n    }\n  }\n  return buf;\n}\n\nclass GlbChunk {\n  data: ArrayBuffer;\n  type: string;\n  buffer: ArrayBuffer;\n  constructor(data: ArrayBuffer, type: string) {\n    this.data = data;\n    this.type = type;\n    const buf = this.data; //, this.type === \"JSON\" ? 0x20 : 0x00);\n    this.buffer = concatBinary([\n      parseNumber2Binary(buf.byteLength, 4),\n      parseString2Binary(this.type),\n      buf,\n    ]);\n  }\n\n  // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#structured-json-content\n  paddingBinary(array: ArrayBuffer, value: number) {\n    const paddedLength = Math.ceil(array.byteLength / 4) * 4;\n    if (array.byteLength === paddedLength) return array;\n    const paddedArray = new Uint8Array(paddedLength);\n    paddedArray.set(new Uint8Array(array), 0);\n    for (let i = array.byteLength; i < paddedLength; i++) {\n      paddedArray.set(new Uint8Array(value), i);\n    }\n    return paddedArray.buffer;\n  }\n}\n\nexport class MeshData {\n  attribute: BufferAttribute;\n  valueType: number;\n  type: MeshDataType;\n  accessorsType: AccessorsType;\n  meshName: string;\n  name: string | undefined;\n  buffer: ArrayBuffer;\n  max: [number, number, number] | undefined;\n  min: [number, number, number] | undefined;\n  constructor(\n    attribute: BufferAttribute,\n    valueType: number,\n    type: MeshDataType,\n    accessorsType: AccessorsType,\n    meshName: string,\n    name: string | undefined\n  ) {\n    this.attribute = attribute;\n    this.type = type;\n    this.valueType = valueType;\n    this.accessorsType = accessorsType;\n    this.meshName = meshName;\n    this.name = name;\n    this.buffer = parseBinary(this.attribute, this.valueType);\n    this.max =\n      type === MeshDataType.POSITION || type === MeshDataType.BLEND_POSITION\n        ? [\n            Math.max.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 0)\n            ),\n            Math.max.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 1)\n            ),\n            Math.max.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 2)\n            ),\n          ]\n        : undefined;\n    this.min =\n      type === MeshDataType.POSITION || type === MeshDataType.BLEND_POSITION\n        ? [\n            Math.min.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 0)\n            ),\n            Math.min.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 1)\n            ),\n            Math.min.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 2)\n            ),\n          ]\n        : undefined;\n  }\n}\n\nenum MaterialType {\n  MeshBasicMaterial = \"MeshBasicMaterial\",\n  MeshStandardMaterial = \"MeshStandardMaterial\",\n  MToonMaterial = \"MToonMaterial\",\n}\n\nenum AccessorsType {\n  SCALAR = \"SCALAR\", // 1\n  VEC2 = \"VEC2\", // 2\n  VEC3 = \"VEC3\", // 3\n  VEC4 = \"VEC4\", // 4\n  MAT4 = \"MAT4\", // 16\n}\n\nenum MeshDataType {\n  POSITION = \"POSITION\",\n  NORMAL = \"NORMAL\",\n  UV = \"UV\",\n  INDEX = \"INDEX\",\n  SKIN_WEIGHT = \"SKIN_WEIGHT\",\n  SKIN_INDEX = \"SKIN_INDEX\",\n  BLEND_POSITION = \"BLEND_POSITION\",\n  BLEND_NORMAL = \"BLEND_NORMAL\",\n  BIND_MATRIX = \"BIND_MATRIX\",\n  IMAGE = \"IMAGE\",\n}\n\nenum VRMObjectType {\n  Group = \"Group\",\n  SkinnedMesh = \"SkinnedMesh\",\n  Object3D = \"Object3D\",\n  Bone = \"Bone\",\n}\n\nexport interface VRMImageData {\n  name: string;\n  imageBitmap: ImageBitmap;\n}\n\ninterface BufferView {\n  buffer: ArrayBuffer;\n  type: MeshDataType;\n}\n\nconst toOutputMeshes = (\n  meshes: Array<Object3D>,\n  meshDatas: Array<MeshData>,\n  uniqueMaterialNames: Array<string>\n): Array<OutputMesh> => {\n  return meshes.map((object) => {\n    const mesh = (object.type === VRMObjectType.Group\n      ? object.children[0]\n      : object) as VRMSkinnedMesh;\n    const subMeshes =\n      object.type === VRMObjectType.Group\n        ? object.children.map((child) => child as VRMSkinnedMesh)\n        : [object as VRMSkinnedMesh];\n    return {\n      extras: {\n        targetNames: mesh.geometry.userData.targetNames,\n      },\n      name: mesh.name, // TODO: \n      primitives: subMeshes.map((subMesh) => {\n        const meshTypes = meshDatas.map((data) =>\n          data.meshName === mesh.name ? data.type : null\n        );\n        const materialName = Array.isArray(subMesh.material)\n          ? subMesh.material[0].name\n          : subMesh.material.name;\n        return {\n          attributes: {\n            JOINTS_0: meshTypes.indexOf(MeshDataType.SKIN_INDEX),\n            NORMAL: meshTypes.indexOf(MeshDataType.NORMAL),\n            POSITION: meshTypes.indexOf(MeshDataType.POSITION),\n            TEXCOORD_0: meshTypes.indexOf(MeshDataType.UV),\n            WEIGHTS_0: meshTypes.indexOf(MeshDataType.SKIN_WEIGHT),\n          },\n          extras: {\n            targetNames: subMesh.geometry.userData.targetNames,\n          },\n          indices: meshDatas\n            .map((data) =>\n              data.type === MeshDataType.INDEX && data.meshName === mesh.name\n                ? data.name\n                : null\n            )\n            .indexOf(subMesh.name),\n          material: uniqueMaterialNames.indexOf(materialName),\n          mode: 4, // TRIANGLES\n          targets: mesh.geometry.userData.targetNames\n            ? mesh.geometry.userData.targetNames.map((targetName) => ({\n                NORMAL: meshDatas\n                  .map((data) =>\n                    data.type === MeshDataType.BLEND_NORMAL &&\n                    data.meshName === mesh.name\n                      ? data.name\n                      : null\n                  )\n                  .indexOf(BLENDSHAPE_PREFIX + targetName),\n                POSITION: meshDatas\n                  .map((data) =>\n                    data.type === MeshDataType.BLEND_POSITION &&\n                    data.meshName === mesh.name\n                      ? data.name\n                      : null\n                  )\n                  .indexOf(BLENDSHAPE_PREFIX + targetName),\n              }))\n            : undefined,\n        };\n      }),\n    };\n  });\n};\n\nconst toOutputSkins = (\n  meshes: Array<Object3D>,\n  meshDatas: Array<MeshData>,\n  nodeNames: Array<string>\n): Array<OutputSkin> => {\n  return meshes.map((object) => {\n    const mesh = (object.type === VRMObjectType.Group\n      ? object.children[0]\n      : object) as VRMSkinnedMesh;\n    return {\n      inverseBindMatrices: meshDatas\n        .map((data) =>\n          data.type === MeshDataType.BIND_MATRIX ? data.meshName : null\n        )\n        .indexOf(mesh.name),\n      joints: mesh.skeleton.bones.map((bone) => nodeNames.indexOf(bone.name)),\n      skeleton: nodeNames.indexOf(mesh.skeleton.bones[0].name),\n    };\n  });\n};\n\nconst toOutputMaterials = (\n  uniqueMaterials: Array<VRMMaterial>,\n  images: Array<VRMImageData>\n): Array<OutputMaterial> => {\n  return uniqueMaterials.map((material) => {\n    let baseColor: [number, number, number, number] | undefined;\n    if (material.type === MaterialType.MToonMaterial) {\n      const mtoonMaterial = material as MToonMaterial;\n      baseColor = mtoonMaterial.color\n        ? [\n            mtoonMaterial.color.x,\n            mtoonMaterial.color.y,\n            mtoonMaterial.color.z,\n            mtoonMaterial.color.w,\n          ]\n        : undefined;\n    } else {\n      const otherMaterial = material as\n        | MeshBasicMaterial\n        | MeshStandardMaterial;\n      baseColor = otherMaterial.color\n        ? [\n            otherMaterial.color.r,\n            otherMaterial.color.g,\n            otherMaterial.color.b,\n            1, // TODO:\n          ]\n        : undefined;\n    }\n    const baseTexture: OutputBaseTexture | undefined = material.map\n      ? {\n          extensions: {\n            KHR_texture_transform: {\n              offset: [0, 0],\n              scale: [1, 1],\n            },\n          },\n          index: images.map((image) => image.name).indexOf(material.name), // TODO: ImageDataMaterial\n          texCoord: 0, // TODO:\n        }\n      : undefined;\n    const metallicFactor = (() => {\n      switch (material.type) {\n        case MaterialType.MeshStandardMaterial:\n          return (material as MeshStandardMaterial).metalness;\n        case MaterialType.MeshBasicMaterial:\n          return 0;\n        default:\n          return 0.5;\n      }\n    })();\n\n    const roughnessFactor = (() => {\n      switch (material.type) {\n        case MaterialType.MeshStandardMaterial:\n          return (material as MeshStandardMaterial).roughness;\n        case MaterialType.MeshBasicMaterial:\n          return 0.9;\n        default:\n          return 0.5;\n      }\n    })();\n\n    return {\n      alphaCutoff: material.alphaTest > 0 ? material.alphaTest : undefined,\n      alphaMode: material.transparent\n        ? \"BLEND\"\n        : material.alphaTest > 0\n        ? \"MASK\"\n        : \"OPAQUE\",\n      doubleSided: material.side === 2, // 2\n      extensions:\n        material.type === MaterialType.MeshBasicMaterial\n          ? {\n              KHR_materials_unlit: {}, // TODO:\n            }\n          : undefined,\n      name: material.name,\n      pbrMetallicRoughness: {\n        baseColorFactor: baseColor,\n        baseColorTexture: baseTexture,\n        metallicFactor: metallicFactor,\n        roughnessFactor: roughnessFactor,\n      },\n    };\n  });\n};\n\nconst toOutputImages = (\n  images: Array<VRMImageData>,\n  icon: VRMImageData | null\n): Array<OutputImage> => {\n  return (icon ? images.concat(icon) : images)\n    .filter((image) => image && image.imageBitmap)\n    .map((image) => ({\n      bufferView: -1,\n      mimeType: \"image/png\", // TODO: png\n      name: image.name, // TODO: \n    }));\n};\n\nconst toOutputSamplers = (\n  outputImages: Array<OutputImage>\n): Array<OutputSampler> => {\n  return outputImages.map(() => ({\n    magFilter: WEBGL_CONST.LINEAR, // TODO: \n    minFilter: WEBGL_CONST.LINEAR, // TODO: \n    wrapS: WEBGL_CONST.REPEAT, // TODO: \n    wrapT: WEBGL_CONST.REPEAT, // TODO: \n  }));\n};\n\nconst toOutputTextures = (\n  outputImages: Array<OutputImage>\n): Array<OutputTexture> => {\n  return outputImages.map((_, index) => ({\n    sampler: index, // TODO: index\n    source: index, // TODO: index\n  }));\n};\n\nconst toOutputScenes = (\n  scene: Scene | Group,\n  outputNodes: Array<OutputNode>\n): Array<OutputScene> => {\n  const nodeNames = outputNodes.map((node) => node.name);\n  return [\n    {\n      nodes: scene.children\n        .filter(\n          (child) =>\n            child.type === VRMObjectType.Object3D ||\n            child.type === VRMObjectType.SkinnedMesh ||\n            child.type === VRMObjectType.Group\n        )\n        .map((x) => nodeNames.indexOf(x.name)),\n    },\n  ];\n};\n\nconst toOutputSecondaryAnimation = (\n  springBone: VRMSpringBoneManager,\n  nodeNames: Array<string>\n): OutputSecondaryAnimation => {\n  return {\n    boneGroups:\n      springBone.springBoneGroupList[0] &&\n      springBone.springBoneGroupList[0].length > 0\n        ? springBone.springBoneGroupList.map((group) => ({\n            bones: group.map((e) => nodeNames.indexOf(e.bone.name)), // TODO: index42\n            center: group[0].center\n              ? nodeNames.indexOf(group[0].center.name) // TODO: null\n              : -1,\n            colliderGroups: springBone.colliderGroups.map((_, index) => index), // TODO: index\n            dragForce: group[0].dragForce, // TODO: \n            gravityDir: {\n              x: group[0].gravityDir.x, // TODO: \n              y: group[0].gravityDir.y, // TODO: \n              z: group[0].gravityDir.z, // TODO: \n            },\n            gravityPower: group[0].gravityPower, // TODO: \n            hitRadius: group[0].radius, // TODO: \n            stiffiness: group[0].stiffnessForce, // TODO: \n          }))\n        : [\n            {\n              bones: [],\n              center: -1,\n              colliderGroups: [],\n              dragForce: 0.4,\n              gravityDir: {\n                x: 0,\n                y: -1,\n                z: 0,\n              },\n              gravityPower: 0,\n              hitRadius: 0.02,\n              stiffiness: 1,\n            },\n          ], // TODO: 2\n    colliderGroups: springBone.colliderGroups.map((group) => ({\n      colliders: [\n        {\n          offset: {\n            x: group.colliders[0].position.x,\n            y: group.colliders[0].position.y,\n            z: group.colliders[0].position.z,\n          },\n          radius: group.colliders[0].geometry.boundingSphere\n            ? group.colliders[0].geometry.boundingSphere.radius\n            : undefined,\n        },\n      ],\n      node: group.node,\n    })),\n  };\n};\n","import { VRMMeta } from \"@pixiv/three-vrm\";\nimport { OutputVRMMeta } from \"./OutputVRMInterfaces\";\nimport { VRMImageData } from \"./VRMExporter\";\n\ntype OutputImage = {\n  bufferView: number;\n  mimeType: string;\n  name: string;\n};\n\nexport function ToOutputVRMMeta(\n  vrmMeta: VRMMeta,\n  icon: VRMImageData | null,\n  outputImage: Array<OutputImage>\n): OutputVRMMeta {\n  return {\n    allowedUserName: vrmMeta.allowedUserName,\n    author: vrmMeta.author,\n    commercialUssageName: vrmMeta.commercialUssageName,\n    contactInformation: vrmMeta.contactInformation,\n    licenseName: vrmMeta.licenseName,\n    otherLicenseUrl: vrmMeta.otherLicenseUrl,\n    otherPermissionUrl: vrmMeta.otherPermissionUrl,\n    reference: vrmMeta.reference,\n    sexualUssageName: vrmMeta.sexualUssageName,\n    texture: icon ? outputImage.length - 1 : undefined,\n    title: vrmMeta.title,\n    version: vrmMeta.version,\n    violentUssageName: vrmMeta.violentUssageName,\n  };\n}\n","\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { GLTFExporter } from \"three/examples/jsm/exporters/GLTFExporter\";\nimport { VRM, VRMMeta } from \"@pixiv/three-vrm\";\n\nimport VRMExporter from \"@/scripts/VRMExporter\";\n\n@Component\nexport default class ExportButton extends Vue {\n  @Prop()\n  public vrm!: VRM | null;\n\n  public exportVRM() {\n    if (!this.vrm) return;\n\n    const exporter = new VRMExporter();\n    exporter.parse(this.vrm, (vrm: ArrayBuffer) => {\n      const fileName = \"test.vrm\";\n      const blob = new Blob([vrm], { type: \"octet/stream\" });\n      const link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(blob);\n      link.download = fileName;\n      link.click();\n    });\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExportButton.vue?vue&type=template&id=609bb80a&\"\nimport script from \"./ExportButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./ExportButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, ProvideReactive, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { VRM, VRMMeta } from \"@pixiv/three-vrm\";\n\nimport VRMCanvas from \"@/components/VRMCanvasView.vue\"; // @ is an alias to /src\nimport MetaView from \"@/components/MetaView.vue\";\nimport MaterialView from \"@/components/MaterialView.vue\";\nimport ModelInfoView from \"@/components/ModelInfoView.vue\";\nimport ExportButton from \"@/components/ExportButton.vue\";\nimport DragAndDroppableArea from \"@/components/DragAndDroppableArea.vue\";\n\ninterface HTMLInputEvent extends Event {\n  target: HTMLInputElement & EventTarget;\n}\n\n@Component({\n  components: {\n    VRMCanvas,\n    MetaView,\n    MaterialView,\n    ModelInfoView,\n    ExportButton,\n    DragAndDroppableArea,\n  },\n})\nexport default class Home extends Vue {\n  @Prop()\n  public vrm!: VRM | null;\n\n  @Prop()\n  public meta!: VRMMeta | undefined | null;\n\n  @Prop()\n  public materials!: THREE.Material[] | undefined | null;\n\n  @ProvideReactive(\"vrmObject\")\n  public vrmObject: THREE.Scene | THREE.Group | null = null;\n\n  @Prop()\n  public exporterVersion!: string;\n\n  @Prop({ default: 0 })\n  public currentTab!: Number;\n\n  public onFileChange(e: HTMLInputEvent) {\n    if (e.target.files === null) return;\n\n    const file = e.target.files[0];\n    const url: string = window.URL.createObjectURL(file);\n\n    this.loadVrm(url);\n  }\n\n  public loadVrm(url: string) {\n    const loader = new GLTFLoader();\n    loader.load(\n      // URL of the VRM you want to load\n      url,\n\n      // called when the resource is loaded\n      (gltf) => {\n        console.log(gltf);\n        const vrmExtension = gltf.userData.gltfExtensions.VRM;\n        this.exporterVersion = vrmExtension.exporterVersion\n          ? vrmExtension.exporterVersion\n          : \"UniVRM-\" + vrmExtension.version;\n        console.log(this.exporterVersion);\n        VRM.from(gltf) // generate a VRM instance from gltf\n          .then((vrm) => {\n            // deal with vrm features\n            this.vrm = vrm;\n            this.meta = vrm.meta;\n            this.materials = vrm.materials;\n            this.vrmObject = vrm.scene;\n            console.log(vrm);\n          });\n      },\n\n      // called while loading is progressing\n      (progress) =>\n        console.log(\n          \"Loading model...\",\n          100.0 * (progress.loaded / progress.total),\n          \"%\"\n        ),\n\n      // called when loading has errors\n      (error) => console.error(error)\n    );\n  }\n\n  public changeTab(tabNumber: Number) {\n    this.currentTab = tabNumber;\n  }\n\n  public reloadPage() {\n    location.reload();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=13049cc9&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VCard,VIcon,VSpacer,VTab,VTabs,VToolbarTitle})\n","import Vue from \"vue\";\nimport VueRouter, { RouteConfig } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\n\nVue.use(VueRouter);\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home,\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"about\" */ \"../views/About.vue\"),\n  },\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n});\n\nexport default router;\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {},\n});\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib/framework\";\n\nVue.use(Vuetify);\n\nexport default new Vuetify({});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport vuetify from \"./plugins/vuetify\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetaView.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}