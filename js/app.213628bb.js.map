{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/DragAndDroppableArea.vue?845a","webpack:///./src/components/ImageBitmapImg.vue?f23c","webpack:///./src/components/MaterialItem.vue?47e4","webpack:///./src/assets/logo.svg","webpack:///./src/components/BlendShapeView.vue?854e","webpack:///./src/views/Home.vue?33cf","webpack:///./src/App.vue?fd1d","webpack:///./src/components/HelloWorld.vue?ee42","webpack:///./src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?cbb5","webpack:///./src/components/HelloWorld.vue?fcc2","webpack:///./src/App.vue","webpack:///./src/App.vue?640d","webpack:///./src/App.vue?b1ee","webpack:///./src/views/Home.vue?e42a","webpack:///./src/components/VRMCanvasView.vue?b990","webpack:///./src/components/VRMCanvasView.vue","webpack:///./src/components/VRMCanvasView.vue?ff94","webpack:///./src/components/VRMCanvasView.vue?44b1","webpack:///./src/components/MetaView.vue?a2ff","webpack:///./src/components/ImageBitmapImg.vue?b854","webpack:///./src/components/ImageBitmapImg.vue","webpack:///./src/components/ImageBitmapImg.vue?65d5","webpack:///./src/components/ImageBitmapImg.vue?d94f","webpack:///./src/components/DragAndDroppableArea.vue?17e3","webpack:///./src/components/DragAndDroppableArea.vue","webpack:///./src/components/DragAndDroppableArea.vue?9db0","webpack:///./src/components/DragAndDroppableArea.vue?b625","webpack:///./src/scripts/ImageUtils.ts","webpack:///./src/components/MetaView.vue","webpack:///./src/components/MetaView.vue?2589","webpack:///./src/components/MetaView.vue?86f0","webpack:///./src/components/MaterialView.vue?dfdc","webpack:///./src/components/MaterialItem.vue?e9a4","webpack:///./src/components/MaterialItem.vue","webpack:///./src/components/MaterialItem.vue?ae25","webpack:///./src/components/MaterialItem.vue?773d","webpack:///./src/components/MaterialView.vue","webpack:///./src/components/MaterialView.vue?763e","webpack:///./src/components/MaterialView.vue?23f8","webpack:///./src/components/ModelInfoView.vue?1c56","webpack:///./src/components/ShowBoneButton.vue?098b","webpack:///./src/components/ShowBoneButton.vue","webpack:///./src/components/ShowBoneButton.vue?ae9b","webpack:///./src/components/ShowBoneButton.vue?827e","webpack:///./src/components/ModelInfoView.vue","webpack:///./src/components/ModelInfoView.vue?0ceb","webpack:///./src/components/ModelInfoView.vue?a14e","webpack:///./src/components/ExportButton.vue?2f76","webpack:///./src/scripts/VRMExporter.ts","webpack:///./src/scripts/VRMMetaUtils.ts","webpack:///./src/components/ExportButton.vue","webpack:///./src/components/ExportButton.vue?44b1","webpack:///./src/components/ExportButton.vue?ce97","webpack:///./src/components/BlendShapeView.vue?d95d","webpack:///./src/components/BlendShapeView.vue","webpack:///./src/components/BlendShapeView.vue?c655","webpack:///./src/components/BlendShapeView.vue?e981","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?102e","webpack:///./src/views/Home.vue?38f2","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./src/components/MetaView.vue?c425"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","staticClass","attrs","_v","_l","next","href","_s","text","link","eco","extend","ecosystem","importantLinks","whatsNext","component","VCol","VContainer","VImg","VRow","components","HelloWorld","VApp","VMain","on","reloadPage","class","active","currentTab","$event","changeTab","directives","rawName","expression","meta","exporterVersion","vrm","materials","updateMaterial","vrmObject","updateBlendShape","loadVrm","onFileChange","_e","scene","renderer","camera","innerWidth","innerHeight","light","gridHelper","axesHelper","controls","$canvas","getElementById","width","height","antialias","canvas","setSize","setPixelRatio","devicePixelRatio","position","set","rotation","Math","PI","OrbitControls","domElement","screenSpacePanning","update","initScene","requestAnimationFrame","animate","newObject","add","immediate","title","version","author","allowedUserName","commercialUssageName","sexualUssageName","violentUssageName","licenseName","otherLicenseUrl","otherPermissionUrl","contactInformation","reference","changeIconFile","texture","image","_t","staticStyle","scopedSlots","_u","fn","ref","hover","convertImageBitmap2Base64","imageBitmap","showInfo","getContext","drawImage","toDataURL","default","VHover","VListItemAvatar","outline","isDragOver","preventDefault","onDrag","onDrop","dataTransfer","files","file","url","URL","createObjectURL","$emit","loadImage","Image","createImageBitmap","objects","filter","includes","map","children","mesh","geometry","groups","count","reduce","sum","forEach","userData","targetNames","ImageBitmapImg","DragAndDroppableArea","VSimpleTable","toUniqueMaterialInfos","materialInfo","index","changeMaterial","material","vrmMaterialProperties","shader","side","convertRGB2Hex","color","updateTexture","round","Number","x","g","y","b","z","toString","ctx","changeColorForDot","hsv","rgb2hsv","h","hsv2rgb","dataUrl","processForDot","imageData","getImageData","a","putImageData","max","min","diff","v","rgb","parseInt","f","v1","v2","v3","VCard","VListItem","VListItemContent","VList","VListItemSubtitle","VListItemTitle","materialInfos","Array","info","indexOf","indices","MaterialItem","getMeshCount","getPolygonCount","getBoneCount","getBlendShapeCount","isShowing","hideBone","showBone","rootBone","child","boneObject","generateBoneSupporter","remove","node","parentNode","transparent","depthWrite","depthTest","lineGeometry","points","getWorldPosition","setFromPoints","newLine","VBtn","attributes","getChildrenCount","parent","ShowBoneButton","WEBGL_CONST","exportVRM","ToOutputVRMMeta","vrmMeta","icon","outputImage","BLENDSHAPE_PREFIX","MORPH_CONTROLLER_PREFIX","SPRINGBONE_COLLIDER_NAME","EXPORTER_VERSION","onDone","humanoid","blendShapeProxy","lookAt","springBone","springBoneManager","exporterInfo","generator","uniqueMaterials","self","findIndex","uniqueMaterialNames","images","outputImages","toOutputImages","outputSamplers","toOutputSamplers","outputTextures","toOutputTextures","outputMaterials","toOutputMaterials","rootNode","VRMObjectType","Bone","nodes","getNodes","nodeNames","outputNodes","childNode","quaternion","w","scale","translation","outputAccessors","meshes","Group","SkinnedMesh","meshDatas","MeshData","FLOAT","MeshDataType","POSITION","AccessorsType","VEC3","normal","NORMAL","uv","UV","VEC2","skinWeight","SKIN_WEIGHT","VEC4","skinIndex","UNSIGNED_SHORT","SKIN_INDEX","subMeshes","subMesh","UNSIGNED_INT","INDEX","SCALAR","morphTargetDictionary","morphIndexPair","entries","targetName","morphIndex","pair","morphAttribute","morphAttributes","BLEND_POSITION","BLEND_NORMAL","inverseBindMatrices","Float32Array","skeleton","boneInverses","boneInv","elements","flat","BIND_MATRIX","MAT4","meshData","bufferView","byteOffset","componentType","valueType","attribute","normalized","accessorsType","outputMeshes","toOutputMeshes","group","skin","secondaryRootNode","outputSkins","toOutputSkins","blendShapeMaster","blendShapeGroups","values","_blendShapeGroups","blendShape","binds","_binds","morphTargetIndex","weight","isBinary","materialValues","_materialValues","replace","presetName","blendShapePresetMap","firstPerson","_firstPersonBoneOffset","vrmFirstPerson","firstPersonBone","_firstPersonBone","firstPersonBoneOffset","lookAtHorizontalInner","curve","applyer","_curveHorizontalInner","xRange","radian2Degree","curveXRangeDegree","yRange","curveYRangeDegree","lookAtHorizontalOuter","_curveHorizontalOuter","lookAtTypeName","lookAtVerticalDown","_curveVerticalDown","lookAtVerticalUp","_curveVerticalUp","meshAnnotations","annotation","firstPersonFlag","vrmHumanoid","armStretch","humanDescription","feetSpacing","hasTranslationDoF","humanBones","bone","useDefaultValues","legStretch","lowerArmTwist","lowerLegTwist","upperArmTwist","upperLegTwist","materialProperties","outputVrmMeta","outputSecondaryAnimation","toOutputSecondaryAnimation","bufferViews","buffer","imageBitmap2png","IMAGE","bufferOffset","imageIndex","accessorIndex","outputBufferViews","byteLength","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","outputScenes","toOutputScenes","outputData","accessors","asset","buffers","extensions","VRM","secondaryAnimation","specVersion","extensionsUsed","samplers","scenes","skins","textures","jsonChunk","GlbChunk","parseString2Binary","JSON","stringify","binaryChunk","concatBinary","buf","fileData","header","parseNumber2Binary","radian","concat","pngUrl","atob","split","array","ArrayBuffer","view","DataView","setUint8","charCodeAt","number","size","setUint32","str","TextEncoder","encode","arrays","sumLength","output","Uint8Array","pos","parseBinary","attr","componentTypeSize","offset","itemSize","getX","getY","getZ","getW","setUint16","setFloat32","paddedLength","ceil","paddedArray","meshName","from","_","MaterialType","extras","primitives","meshTypes","materialName","isArray","JOINTS_0","TEXCOORD_0","WEIGHTS_0","targets","joints","bones","baseColor","MToonMaterial","mtoonMaterial","otherMaterial","baseTexture","KHR_texture_transform","texCoord","metallicFactor","MeshStandardMaterial","metalness","MeshBasicMaterial","roughnessFactor","roughness","alphaCutoff","alphaTest","alphaMode","doubleSided","KHR_materials_unlit","pbrMetallicRoughness","baseColorFactor","baseColorTexture","mimeType","magFilter","LINEAR","minFilter","wrapS","REPEAT","wrapT","sampler","source","Object3D","boneGroups","springBoneGroupList","center","colliderGroups","dragForce","gravityDir","gravityPower","hitRadius","radius","stiffiness","stiffnessForce","colliders","boundingSphere","exporter","parse","fileName","blob","Blob","download","click","blendShapeInfo","meshIndex","morphNames","morphName","model","morphValues","callback","$$v","$set","blendShapeInfos","keys","VSlider","loader","GLTFLoader","load","gltf","log","vrmExtension","gltfExtensions","then","progress","loaded","total","changedMaterial","traverse","newMaterial","clone","needsUpdate","tabNumber","location","reload","args","morphTargetInfluences","VRMCanvas","MetaView","MaterialView","ModelInfoView","ExportButton","BlendShapeView","VAppBar","VIcon","VSpacer","VTab","VTabs","VToolbarTitle","VToolbar","use","routes","path","router","base","Store","state","mutations","actions","config","productionTip","store","vuetify","App","$mount"],"mappings":"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","file":"js/app.213628bb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"f3c7ab93\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vrm-avatar-editor/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragAndDroppableArea.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageBitmapImg.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialItem.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.63a7d78d.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlendShapeView.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"text-center\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-img',{staticClass:\"my-3\",attrs:{\"src\":require('../assets/logo.svg'),\"contain\":\"\",\"height\":\"200\"}})],1),_c('v-col',{staticClass:\"mb-4\"},[_c('h1',{staticClass:\"display-2 font-weight-bold mb-3\"},[_vm._v(\"Welcome to Vuetify\")]),_c('p',{staticClass:\"subheading font-weight-regular\"},[_vm._v(\" For help and collaboration with other Vuetify developers, \"),_c('br'),_vm._v(\"please join our online \"),_c('a',{attrs:{\"href\":\"https://community.vuetifyjs.com\",\"target\":\"_blank\"}},[_vm._v(\"Discord Community\")])])]),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"What's next?\")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.whatsNext),function(next,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":next.href,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(next.text)+\" \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"Important Links\")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.importantLinks),function(link,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":link.href,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(link.text)+\" \")])}),0)],1),_c('v-col',{staticClass:\"mb-5\",attrs:{\"cols\":\"12\"}},[_c('h2',{staticClass:\"headline font-weight-bold mb-3\"},[_vm._v(\"Ecosystem\")]),_c('v-row',{attrs:{\"justify\":\"center\"}},_vm._l((_vm.ecosystem),function(eco,i){return _c('a',{key:i,staticClass:\"subheading mx-3\",attrs:{\"href\":eco.href,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(eco.text)+\" \")])}),0)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\n\nexport default Vue.extend({\n  name: \"HelloWorld\",\n\n  data: () => ({\n    ecosystem: [\n      {\n        text: \"vuetify-loader\",\n        href: \"https://github.com/vuetifyjs/vuetify-loader\",\n      },\n      {\n        text: \"github\",\n        href: \"https://github.com/vuetifyjs/vuetify\",\n      },\n      {\n        text: \"awesome-vuetify\",\n        href: \"https://github.com/vuetifyjs/awesome-vuetify\",\n      },\n    ],\n    importantLinks: [\n      {\n        text: \"Documentation\",\n        href: \"https://vuetifyjs.com\",\n      },\n      {\n        text: \"Chat\",\n        href: \"https://community.vuetifyjs.com\",\n      },\n      {\n        text: \"Made with Vuetify\",\n        href: \"https://madewithvuejs.com/vuetify\",\n      },\n      {\n        text: \"Twitter\",\n        href: \"https://twitter.com/vuetifyjs\",\n      },\n      {\n        text: \"Articles\",\n        href: \"https://medium.com/vuetify\",\n      },\n    ],\n    whatsNext: [\n      {\n        text: \"Explore components\",\n        href: \"https://vuetifyjs.com/components/api-explorer\",\n      },\n      {\n        text: \"Select a layout\",\n        href: \"https://vuetifyjs.com/getting-started/pre-made-layouts\",\n      },\n      {\n        text: \"Frequently Asked Questions\",\n        href:\n          \"https://vuetifyjs.com/getting-started/frequently-asked-questions\",\n      },\n    ],\n  }),\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelloWorld.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HelloWorld.vue?vue&type=template&id=08f729da&\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=ts&\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VImg,VRow})\n","\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport HelloWorld from \"./components/HelloWorld.vue\";\n\nexport default Vue.extend({\n  name: \"App\",\n\n  components: {\n    HelloWorld,\n  },\n\n  data: () => ({\n    //\n  }),\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=32c7a24a&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home full\"},[_c('v-app-bar',{attrs:{\"danse\":\"\",\"dark\":\"\",\"id\":\"app-bar\"}},[_c('v-toolbar-title',[_vm._v(\"VRM Avatar Editor\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"href\":\"https://github.com/gatosyocora/vrm-avatar-editor/issues/new\",\"target\":\"_blank\"}},[_vm._v(\"Issue\")]),_c('v-btn',{attrs:{\"href\":\"https://github.com/gatosyocora/vrm-avatar-editor\",\"target\":\"_blank\"}},[_vm._v(\"GitHub\")]),_c('v-btn',{attrs:{\"href\":\"https://github.com/gatosyocora/vrm-avatar-editor/blob/main/README.md\",\"target\":\"_blank\"}},[_vm._v(\"License\")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.reloadPage}},[_c('v-icon',[_vm._v(\"mdi-cached\")])],1)],1),_c('p',{staticClass:\"unselectable\",attrs:{\"id\":\"message\"}},[_vm._v(\" VRM \")]),_c('div',{attrs:{\"id\":\"menu\"}},[_c('v-card',{staticClass:\"full-height\"},[_c('v-tabs',{attrs:{\"fixed-tabs\":\"\",\"dark\":\"\"}},[_c('v-tab',{class:{ active: _vm.currentTab === 0 },on:{\"click\":function($event){return _vm.changeTab(0)}}},[_vm._v(\"Meta\")]),_c('v-tab',{class:{ active: _vm.currentTab === 1 },on:{\"click\":function($event){return _vm.changeTab(1)}}},[_vm._v(\"Materials\")]),_c('v-tab',{class:{ active: _vm.currentTab === 2 },on:{\"click\":function($event){return _vm.changeTab(2)}}},[_vm._v(\"Model\")]),_c('v-tab',{class:{ active: _vm.currentTab === 3 },on:{\"click\":function($event){return _vm.changeTab(3)}}},[_vm._v(\"BlendShape\")])],1),_c('div',{staticClass:\"full-height\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 0),expression:\"currentTab === 0\"}],staticClass:\"contents\"},[_c('MetaView',{attrs:{\"meta\":_vm.meta,\"exporterVersion\":_vm.exporterVersion}},[_c('ExportButton',{attrs:{\"vrm\":_vm.vrm}})],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 1),expression:\"currentTab === 1\"}],staticClass:\"contents\"},[_c('MaterialView',{attrs:{\"materials\":_vm.materials},on:{\"onChangeMaterial\":_vm.updateMaterial}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 2),expression:\"currentTab === 2\"}],staticClass:\"contents\"},[_c('ModelInfoView',{attrs:{\"vrmObject\":_vm.vrmObject,\"materials\":_vm.materials}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab === 3),expression:\"currentTab === 3\"}],staticClass:\"contents\"},[_c('BlendShapeView',{attrs:{\"vrmObject\":_vm.vrmObject},on:{\"updateBlendShape\":_vm.updateBlendShape}})],1)])],1)],1),_c('div',{staticClass:\"full\",attrs:{\"id\":\"main\"}},[_c('div',{staticClass:\"top full\"},[(_vm.vrmObject === null)?_c('DragAndDroppableArea',{staticClass:\"layer2 layer full\",on:{\"onDropFile\":_vm.loadVrm}},[_c('div',{staticClass:\"white-color unselectable\"},[_c('center',[_vm._v(\" VRM&\"),_c('br'),_c('br'),_c('label',{staticClass:\"my-file-button black--text\"},[_vm._v(\"  \"),_c('input',{attrs:{\"type\":\"file\",\"accept\":\".vrm\"},on:{\"change\":_vm.onFileChange}})])])],1)]):_vm._e(),_c('VRMCanvas',{staticClass:\"layer1 layer full\",attrs:{\"vrmObject\":_vm.vrmObject}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{attrs:{\"id\":\"canvas\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport {\n  Component,\n  Prop,\n  Provide,\n  ProvideReactive,\n  Vue,\n  Watch,\n} from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { VRM, VRMMeta } from \"@pixiv/three-vrm\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { Bone, Object3D, Vector3 } from \"three\";\n\n@Component\nexport default class VRMCanvasView extends Vue {\n  @ProvideReactive(\"scene\")\n  private scene: THREE.Scene | null = null;\n  private renderer: THREE.WebGLRenderer | null = null;\n  private camera = new THREE.PerspectiveCamera(\n    75,\n    window.innerWidth / window.innerHeight,\n    0.1,\n    1000\n  );\n  private light = new THREE.DirectionalLight(0xffffff, 1);\n  private gridHelper = new THREE.GridHelper(10, 10);\n  private axesHelper = new THREE.AxesHelper(5);\n  private controls: OrbitControls | null = null;\n\n  @Prop()\n  public meta!: VRMMeta | undefined | null;\n\n  @Prop()\n  public materials!: THREE.Material[] | undefined | null;\n\n  @Prop()\n  public vrmObject!: THREE.Scene | THREE.Group | null;\n\n  mounted() {\n    const $canvas = <HTMLCanvasElement>document.getElementById(\"canvas\");\n    if ($canvas === null) return;\n\n    $canvas.width = window.innerWidth;\n    $canvas.height = window.innerHeight;\n\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      canvas: $canvas,\n    });\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n\n    this.camera.position.set(0, 1, -1.5);\n    this.camera.rotation.set(0, Math.PI, 0);\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n    this.controls.screenSpacePanning = true;\n    this.controls.target.set(0.0, 1.0, 0.0);\n    this.controls.update();\n    this.light.position.set(0, 0, -10);\n    this.initScene();\n  }\n  animate() {\n    if (!this.scene) return;\n    requestAnimationFrame(this.animate);\n    this.renderer!.render(this.scene, this.camera);\n  }\n\n  @Watch(\"vrmObject\", { immediate: true })\n  public updateVrm(newObject: THREE.Scene | THREE.Group) {\n    if (!this.scene) return;\n\n    if (this.vrmObject) {\n      this.initScene();\n    }\n    this.vrmObject = newObject;\n\n    if (newObject === null) return;\n\n    // add the loaded vrm to the scene\n    this.scene.add(this.vrmObject);\n  }\n\n  initScene() {\n    this.scene = new THREE.Scene();\n    this.scene.add(this.light);\n    this.scene.add(this.gridHelper);\n    this.scene.add(this.axesHelper);\n    this.animate();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VRMCanvasView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VRMCanvasView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./VRMCanvasView.vue?vue&type=template&id=3832a6fa&\"\nimport script from \"./VRMCanvasView.vue?vue&type=script&lang=ts&\"\nexport * from \"./VRMCanvasView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.meta)?_c('div',[_c('v-simple-table',[_c('tbody',[_c('tr',[_c('td',[_vm._v(\"Title\")]),_c('td',[_vm._v(_vm._s(_vm.meta.title))])]),_c('tr',[_c('td',[_vm._v(\"Version\")]),_c('td',[_vm._v(_vm._s(_vm.meta.version))])]),_c('tr',[_c('td',[_vm._v(\"Author\")]),_c('td',[_vm._v(_vm._s(_vm.meta.author))])]),_c('tr',[_c('td',[_vm._v(\"Allow User\")]),_c('td',[_vm._v(_vm._s(_vm.meta.allowedUserName))])]),_c('tr',[_c('td',[_vm._v(\"Commercial Ussage\")]),_c('td',[_vm._v(_vm._s(_vm.meta.commercialUssageName))])]),_c('tr',[_c('td',[_vm._v(\"Sexual Ussage\")]),_c('td',[_vm._v(_vm._s(_vm.meta.sexualUssageName))])]),_c('tr',[_c('td',[_vm._v(\"Violent Ussage\")]),_c('td',[_vm._v(_vm._s(_vm.meta.violentUssageName))])]),_c('tr',[_c('td',[_vm._v(\"License Name\")]),_c('td',[_vm._v(_vm._s(_vm.meta.licenseName))])]),_c('tr',[_c('td',[_vm._v(\"Other License\")]),_c('td',[_c('a',{attrs:{\"href\":_vm.meta.otherLicenseUrl,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.meta.otherLicenseUrl)+\" \")])])]),_c('tr',[_c('td',[_vm._v(\"Other Permission\")]),_c('td',[_c('a',{attrs:{\"href\":_vm.meta.otherPermissionUrl,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.meta.otherPermissionUrl)+\" \")])])]),_c('tr',[_c('td',[_vm._v(\"Contact Information\")]),_c('td',[_c('a',{attrs:{\"href\":_vm.meta.contactInformation,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.meta.contactInformation)+\" \")])])]),_c('tr',[_c('td',[_vm._v(\"Reference\")]),_c('td',[_vm._v(_vm._s(_vm.meta.reference))])]),_c('tr',[_c('td',[_vm._v(\"Icon\")]),_c('td',[_c('DragAndDroppableArea',{on:{\"onDropFile\":_vm.changeIconFile}},[_c('ImageBitmapImg',{attrs:{\"imageBitmap\":_vm.meta.texture ? _vm.meta.texture.image : undefined,\"showInfo\":false}})],1)],1)]),_c('tr',[_c('td',[_vm._v(\"Exporter Version\")]),_c('td',[_vm._v(_vm._s(_vm.exporterVersion))])])])]),_vm._t(\"default\")],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"0 10px 0 10px\",\"display\":\"inline-block\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-list-item-avatar',{staticStyle:{\"margin\":\"5px\"},attrs:{\"rounded\":\"\",\"size\":\"80\",\"color\":\"white\"}},[(_vm.imageBitmap)?_c('v-img',{attrs:{\"src\":_vm.convertImageBitmap2Base64(_vm.imageBitmap)}},[(_vm.showInfo && hover)?_c('div',{staticClass:\"tex-info unselectable\"},[_vm._v(\" \"+_vm._s(_vm.imageBitmap.width)+\"x\"+_vm._s(_vm.imageBitmap.height)+\" \")]):_vm._e()]):_c('span',{staticStyle:{\"color\":\"black\"}},[_vm._v(\" none \")])],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\n\ninterface MaterialInfo {\n  name: string;\n  material: THREE.Material;\n  indices: Array<number>;\n}\n\n@Component\nexport default class ImageBitmapImg extends Vue {\n  @Prop()\n  public imageBitmap!: ImageBitmap;\n\n  /**  */\n  @Prop({ default: true })\n  public showInfo!: boolean;\n\n  public convertImageBitmap2Base64(image: ImageBitmap): string {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = image.width;\n    canvas.height = image.height;\n    canvas.getContext(\"2d\")!.drawImage(image, 0, 0);\n    return canvas.toDataURL();\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageBitmapImg.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageBitmapImg.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImageBitmapImg.vue?vue&type=template&id=19abfe03&\"\nimport script from \"./ImageBitmapImg.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImageBitmapImg.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ImageBitmapImg.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VHover,VImg,VListItemAvatar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fit-inline\",class:{ outline: _vm.isDragOver },on:{\"dragover\":function($event){$event.preventDefault();return _vm.onDrag('over')},\"dragleave\":function($event){$event.preventDefault();return _vm.onDrag('leave')},\"drop\":function($event){$event.preventDefault();return _vm.onDrop($event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n\n@Component\nexport default class DragAndDroppableArea extends Vue {\n  @Prop({ default: false })\n  public isDragOver!: boolean;\n\n  public onDrag(type: string) {\n    this.isDragOver = type === \"over\";\n  }\n  public onDrop(e: DragEvent) {\n    if (e.dataTransfer === null || e.dataTransfer.files === null) return;\n\n    this.isDragOver = false;\n    const file = e.dataTransfer.files[0];\n    const url: string = window.URL.createObjectURL(file);\n    this.$emit(\"onDropFile\", url);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragAndDroppableArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragAndDroppableArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DragAndDroppableArea.vue?vue&type=template&id=45c6c1d1&\"\nimport script from \"./DragAndDroppableArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./DragAndDroppableArea.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DragAndDroppableArea.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function loadImage(url: string): Promise<ImageBitmap> {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    image.onload = () => resolve(createImageBitmap(image));\n    image.onerror = (e) => reject(e);\n    image.src = url;\n  });\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { VRM, VRMMeta } from \"@pixiv/three-vrm\";\n\nimport { Arrays, VRMSkinnedMesh, VRMGroup } from \"@/scripts/VRMInterface\";\n\nimport ImageBitmapImg from \"@/components/ImageBitmapImg.vue\";\nimport DragAndDroppableArea from \"@/components/DragAndDroppableArea.vue\";\n\nimport { loadImage } from \"@/scripts/ImageUtils\";\n\n@Component({\n  components: {\n    ImageBitmapImg,\n    DragAndDroppableArea,\n  },\n})\nexport default class MetaView extends Vue {\n  @Prop()\n  public meta!: VRMMeta | undefined | null;\n\n  @Prop()\n  public vrmObject!: THREE.Scene | THREE.Group | null;\n\n  @Prop()\n  public exporterVersion!: string;\n\n  public getMeshCount(objects: Arrays): Number {\n    return objects.filter((object) =>\n      [\"Group\", \"SkinnedMesh\"].includes(object.type)\n    ).length;\n  }\n\n  public getPolygonCount(objects: Arrays): Number {\n    return (\n      objects\n        .filter((object) =>\n          [\"Group\", \"SkinnedMesh\", \"Object3D\"].includes(object.type)\n        )\n        .map((object) => {\n          if ([\"Group\", \"Object3D\"].includes(object.type)) {\n            if (object.children.length <= 0) return 0;\n            return object.children\n              .map((mesh) => (mesh as VRMSkinnedMesh).geometry.groups[0].count)\n              .reduce((sum, value) => sum + value, 0);\n          } else if (object.type === \"SkinnedMesh\") {\n            return (object as VRMSkinnedMesh).geometry.groups[0].count;\n          } else {\n            return object.children\n              .map((mesh) => (mesh as VRMSkinnedMesh).geometry.groups[0].count)\n              .reduce((sum, value) => sum + value, 0);\n          }\n        })\n        .reduce((sum, value) => sum + value, 0) / 3\n    );\n  }\n\n  public getBlendShapeCount(objects: Arrays): Number {\n    let count = 0;\n    objects.forEach((object) => {\n      if (object.type === \"Group\") {\n        count += (object as VRMGroup).children[0].geometry.userData.targetNames\n          .length;\n      }\n    });\n    return count;\n  }\n\n  public async changeIconFile(url: string) {\n    if (this.meta) {\n      const data = await loadImage(url);\n      if (!data) return;\n      if (!this.meta.texture) {\n        this.meta.texture = new THREE.Texture();\n      }\n      this.meta.texture.image = data;\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetaView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetaView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MetaView.vue?vue&type=template&id=04b74c4c&\"\nimport script from \"./MetaView.vue?vue&type=script&lang=ts&\"\nexport * from \"./MetaView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MetaView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VSimpleTable})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.materials)?_c('div',_vm._l((_vm.toUniqueMaterialInfos(_vm.materials)),function(materialInfo,index){return _c('div',{key:index},[_c('MaterialItem',{attrs:{\"materialInfo\":materialInfo},on:{\"onChangeMaterial\":_vm.changeMaterial}})],1)}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"card\",attrs:{\"dark\":\"\"}},[_c('v-list-item',{attrs:{\"three-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(_vm.materialInfo.material.name)+\" \")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.materialInfo.material.userData.vrmMaterialProperties.shader)+\" \")]),_c('v-list-item-subtitle',[(_vm.materialInfo.material.side === 0)?_c('div',[_vm._v(\"FrontSide\")]):(_vm.materialInfo.material.side === 1)?_c('div',[_vm._v(\"BackSide\")]):_c('div',[_vm._v(\"BothSide\")])])],1),(_vm.materialInfo.material.color)?_c('v-list-item-avatar',{attrs:{\"size\":\"80\",\"color\":_vm.convertRGB2Hex(_vm.materialInfo.material.color)}}):_vm._e(),_c('DragAndDroppableArea',{on:{\"onDropFile\":_vm.updateTexture}},[(_vm.materialInfo.material.map && _vm.materialInfo.material.map.image)?_c('ImageBitmapImg',{attrs:{\"imageBitmap\":_vm.materialInfo.material.map.image}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { Material, MeshBasicMaterial, MeshStandardMaterial } from \"three\";\n\nimport ImageBitmapImg from \"@/components/ImageBitmapImg.vue\";\nimport DragAndDroppableArea from \"@/components/DragAndDroppableArea.vue\";\nimport { loadImage } from \"@/scripts/ImageUtils\";\n\ninterface MaterialInfo {\n  name: string;\n  material: Material;\n  indices: Array<number>;\n  value: number;\n}\n\ninterface RGBColor {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n}\n\ninterface HSVColor {\n  h: number;\n  s: number;\n  v: number;\n  a: number;\n}\n\ntype HasMapMaterial = MeshBasicMaterial | MeshStandardMaterial;\n\n@Component({\n  components: { ImageBitmapImg, DragAndDroppableArea },\n})\nexport default class MaterialView extends Vue {\n  @Prop()\n  public materialInfo!: MaterialInfo;\n\n  public convertRGB2Hex(color: THREE.Vector3 | THREE.Vector4): String {\n    const r = Math.round(Number(color.x) * 255);\n    const g = Math.round(Number(color.y) * 255);\n    const b = Math.round(Number(color.z) * 255);\n    return \"#\" + r.toString(16) + g.toString(16) + b.toString(16);\n  }\n\n  public changeHsv() {\n    const material = this.materialInfo.material as HasMapMaterial;\n    if (!material.map) return;\n\n    const imageBitmap = material.map.image;\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = imageBitmap.width;\n    canvas.height = imageBitmap.height;\n    const ctx = canvas.getContext(\"2d\");\n    ctx!.drawImage(imageBitmap, 0, 0);\n\n    this.changeColorForDot(ctx!, imageBitmap, (color: RGBColor) => {\n      const hsv = this.rgb2hsv(color);\n      hsv.h = this.materialInfo.value * 255;\n      return this.hsv2rgb(hsv);\n    });\n\n    const dataUrl = canvas.toDataURL();\n    this.updateTexture(dataUrl);\n  }\n\n  changeColorForDot(\n    ctx: CanvasRenderingContext2D,\n    canvas: HTMLCanvasElement,\n    processForDot: (color: RGBColor) => RGBColor\n  ) {\n    const imageData = ctx!.getImageData(0, 0, canvas.width, canvas.height);\n    const data = imageData.data;\n    for (let i = 0; i < data.length; i += 4) {\n      let color = {\n        r: data[i + 0] * 255,\n        g: data[i + 1] * 255,\n        b: data[i + 2] * 255,\n        a: data[i + 3] * 255,\n      };\n\n      color = processForDot(color);\n\n      data[i + 0] = color.r / 255;\n      data[i + 1] = color.g / 255;\n      data[i + 2] = color.b / 255;\n      data[i + 3] = color.a / 255;\n    }\n    ctx!.putImageData(imageData, 0, 0);\n  }\n\n  // https://lab.syncer.jp/Web/JavaScript/Snippet/66/\n  rgb2hsv(color: RGBColor): HSVColor {\n    const r = color.r / 255;\n    const g = color.g / 255;\n    const b = color.b / 255;\n\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n\n    const diff = max - min;\n    let h;\n    if (min === max) h = 0;\n    else if (min === r) h = 60 * ((b - g) / diff) + 180;\n    else if (min === g) h = 60 * ((r - b) / diff) + 300;\n    else if (min === b) h = 60 * ((g - r) / diff) + 60;\n    else h = 0;\n\n    const s = max == 0 ? 0 : diff / max;\n    const v = max;\n\n    return {\n      h: h,\n      s: s,\n      v: v,\n      a: color.a,\n    };\n  }\n\n  // https://lab.syncer.jp/Web/JavaScript/Snippet/67/\n  hsv2rgb(color: HSVColor): RGBColor {\n    const h = color.h / 60;\n    const s = color.s;\n    const v = color.v;\n    if (s == 0)\n      return {\n        r: v * 255,\n        g: v * 255,\n        b: v * 255,\n        a: color.a,\n      };\n\n    var rgb;\n    var i = parseInt(`${h}`);\n    var f = h - i;\n    var v1 = v * (1 - s);\n    var v2 = v * (1 - s * f);\n    var v3 = v * (1 - s * (1 - f));\n\n    if (i === 0 || i === 6) rgb = [v, v3, v1];\n    else if (i === 1) rgb = [v2, v, v1];\n    else if (i === 2) rgb = [v1, v, v3];\n    else if (i === 3) rgb = [v1, v2, v];\n    else if (i === 4) rgb = [v3, v1, v];\n    else if (i === 5) rgb = [v, v1, v2];\n    else rgb = [0, 0, 0];\n\n    return {\n      r: rgb[0] * 255,\n      g: rgb[1] * 255,\n      b: rgb[2] * 255,\n      a: color.a,\n    };\n  }\n\n  public async updateTexture(url: string) {\n    const material = this.materialInfo.material as HasMapMaterial;\n    if (!material) return;\n    if (material.map) {\n      const data = await loadImage(url);\n      material.map.image = data;\n      this.$emit(\"onChangeMaterial\", material);\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialItem.vue?vue&type=template&id=3a2dd509&\"\nimport script from \"./MaterialItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MaterialItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCard,VListItem,VListItemAvatar,VListItemContent,VListItemSubtitle,VListItemTitle})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { Material } from \"three\";\n\nimport MaterialItem from \"@/components/MaterialItem.vue\";\n\ninterface MaterialInfo {\n  name: string;\n  material: Material;\n  indices: Array<number>;\n  value: number;\n}\n\n@Component({\n  components: { MaterialItem },\n})\nexport default class MaterialView extends Vue {\n  @Prop()\n  public materials!: Array<Material> | undefined | null;\n\n  @Prop()\n  public uniqueMaterialInfos!: Array<MaterialInfo> | null;\n\n  public toUniqueMaterialInfos(\n    materials: Array<Material>\n  ): Array<MaterialInfo> {\n    const materialInfos = Array<MaterialInfo>();\n    for (let i = 0; i < materials.length; i++) {\n      const index = materialInfos\n        .map((info) => info.name)\n        .indexOf(materials[i].name);\n      if (index === -1) {\n        materialInfos.push({\n          name: materials[i].name,\n          material: materials[i],\n          indices: [i],\n          value: 0,\n        });\n      } else {\n        materialInfos[index].indices.push(i);\n      }\n    }\n    return materialInfos;\n  }\n\n  public changeMaterial(material: Material) {\n    this.$emit(\"onChangeMaterial\", material);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MaterialView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MaterialView.vue?vue&type=template&id=e5f7df24&\"\nimport script from \"./MaterialView.vue?vue&type=script&lang=ts&\"\nexport * from \"./MaterialView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.vrmObject)?_c('div',[_c('v-simple-table',[_c('tbody',[(_vm.vrmObject.children !== null)?_c('tr',[_c('td',[_vm._v(\"Mesh Count\")]),_c('td',[_vm._v(_vm._s(_vm.getMeshCount(_vm.vrmObject.children)))]),_c('td')]):_vm._e(),(_vm.materials !== null)?_c('tr',[_c('td',[_vm._v(\"SubMesh Count\")]),_c('td',[_vm._v(_vm._s(_vm.materials.length))]),_c('td')]):_vm._e(),(_vm.vrmObject.children !== null)?_c('tr',[_c('td',[_vm._v(\"Polygon Count\")]),_c('td',[_vm._v(_vm._s(_vm.getPolygonCount(_vm.vrmObject.children)))]),_c('td')]):_vm._e(),(_vm.vrmObject.children !== null)?_c('tr',[_c('td',[_vm._v(\"Bone Count\")]),_c('td',[_vm._v(_vm._s(_vm.getBoneCount(_vm.vrmObject.children)))]),_c('td',[_c('ShowBoneButton')],1)]):_vm._e(),(_vm.vrmObject.children !== null)?_c('tr',[_c('td',[_vm._v(\"BlendShape Count\")]),_c('td',[_vm._v(_vm._s(_vm.getBlendShapeCount(_vm.vrmObject.children)))]),_c('td')]):_vm._e()])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{staticStyle:{\"width\":\"50px\"},on:{\"click\":function($event){!_vm.isShowing ? _vm.showBone() : _vm.hideBone()}}},[(!_vm.isShowing)?_c('div',[_vm._v(\"Show\")]):_c('div',[_vm._v(\"Hide\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport { Component, InjectReactive, Prop, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { VRM } from \"@pixiv/three-vrm\";\n\nimport { Bone, Line, LineBasicMaterial, Object3D, Scene, Vector3 } from \"three\";\n\n@Component\nexport default class ShowBoneButton extends Vue {\n  @InjectReactive(\"vrmObject\")\n  private vrmObject!: THREE.Scene | THREE.Group | null;\n\n  @InjectReactive(\"scene\")\n  private scene!: Scene | null;\n\n  public boneObject!: Line | null;\n\n  @Prop({ default: false })\n  isShowing!: boolean;\n\n  public showBone() {\n    if (!this.vrmObject || !this.scene || this.isShowing) return;\n\n    const rootBone = this.vrmObject!.children.filter(\n      (child) => child.children.length > 0 && child.children[0].type === \"Bone\"\n    )[0];\n    this.boneObject = this.generateBoneSupporter(rootBone);\n    this.scene.add(this.boneObject);\n\n    this.isShowing = true;\n  }\n\n  public hideBone() {\n    if (!this.boneObject || !this.scene || !this.isShowing) return;\n\n    this.scene.remove(this.boneObject);\n    this.isShowing = false;\n  }\n\n  generateBoneSupporter(\n    node: Object3D | Bone,\n    parentNode?: Object3D | Bone,\n    material?: LineBasicMaterial\n  ): Line {\n    if (!material) {\n      material = new THREE.LineBasicMaterial({\n        color: 0xff0000,\n        transparent: true,\n        depthWrite: false,\n        depthTest: false,\n      });\n    }\n\n    const lineGeometry = new THREE.BufferGeometry();\n    if (parentNode) {\n      const points = new Array<THREE.Vector3>();\n      points.push(\n        parentNode.getWorldPosition(new Vector3(0, 0, 0)),\n        node.getWorldPosition(new Vector3(0, 0, 0))\n      );\n      lineGeometry.setFromPoints(points);\n    }\n    const newLine = new THREE.Line(lineGeometry, material);\n    newLine.name = node.name;\n    node.children.forEach((child) => {\n      newLine.children.push(this.generateBoneSupporter(child, node, material));\n    });\n    return newLine;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowBoneButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowBoneButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ShowBoneButton.vue?vue&type=template&id=28253571&\"\nimport script from \"./ShowBoneButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./ShowBoneButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\n\nimport { Arrays, VRMSkinnedMesh, VRMGroup } from \"@/scripts/VRMInterface\";\n\nimport ShowBoneButton from \"@/components/ShowBoneButton.vue\";\n\n@Component({\n  components: {\n    ShowBoneButton,\n  },\n})\nexport default class ModelInfoView extends Vue {\n  @Prop()\n  public materials!: THREE.Material[] | null;\n\n  @Prop()\n  public vrmObject!: THREE.Scene | THREE.Group | null;\n\n  public getMeshCount(objects: Arrays): Number {\n    return objects.filter((object) =>\n      [\"Group\", \"SkinnedMesh\"].includes(object.type)\n    ).length;\n  }\n\n  public getPolygonCount(objects: Arrays): Number {\n    return objects\n      .filter((object) => [\"Group\", \"SkinnedMesh\"].includes(object.type))\n      .map((object) => {\n        if (object.type === \"Group\") {\n          return (object.children[0] as VRMSkinnedMesh).geometry.attributes\n            .position.count;\n        } else {\n          return (object as VRMSkinnedMesh).geometry.attributes.position.count;\n        }\n      })\n      .reduce((sum, value) => sum + value, 0);\n  }\n\n  public getBoneCount(objects: Arrays): Number {\n    return this.getChildrenCount(\n      objects.filter(\n        (object) =>\n          object.children.length > 0 && object.children[0].type === \"Bone\"\n      )[0]\n    );\n  }\n\n  public getChildrenCount(parent: THREE.Object3D | THREE.Bone): number {\n    if (parent.children.length === 0) return 0;\n    else {\n      return (\n        parent.children\n          .map((child) => this.getChildrenCount(child))\n          .reduce((sum: number, value: number) => sum + value, 0) +\n        parent.children.length\n      );\n    }\n  }\n\n  public getBlendShapeCount(objects: Arrays): Number {\n    let count = 0;\n    objects.forEach((object) => {\n      if (object.type === \"Group\") {\n        const userData = (object as VRMGroup).children[0].geometry.userData;\n        count += userData.targetNames ? userData.targetNames.length : 0;\n      } else if (object.type === \"SkinnedMesh\") {\n        const userData = (object as VRMSkinnedMesh).geometry.userData;\n        count += userData.targetNames ? userData.targetNames.length : 0;\n      }\n    });\n    return count;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelInfoView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModelInfoView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelInfoView.vue?vue&type=template&id=653545d2&\"\nimport script from \"./ModelInfoView.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelInfoView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VSimpleTable})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{attrs:{\"block\":\"\",\"color\":\"primary\",\"disabled\":!_vm.vrm},on:{\"click\":_vm.exportVRM}},[_vm._v(\" Export VRM (beta) \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { VRM, MToonMaterial, VRMSpringBoneManager } from \"@pixiv/three-vrm\";\nimport {\n  BufferAttribute,\n  MeshStandardMaterial,\n  MeshBasicMaterial,\n  Bone,\n  Object3D,\n  Scene,\n  Group,\n} from \"three\";\nimport { VRMSkinnedMesh } from \"@/scripts/VRMInterface\";\nimport { ToOutputVRMMeta } from \"./VRMMetaUtils\";\nimport {\n  OutputSkin,\n  OutputBaseTexture,\n  OutputMaterial,\n  OutputMesh,\n  OutputNode,\n  OutputAccessor,\n  OutputBufferView,\n  OutputImage,\n  OutputSampler,\n  OutputTexture,\n  OutputScene,\n  OutputVRM,\n  OutputSecondaryAnimation,\n} from \"./OutputVRMInterfaces\";\n\n// WebGL(OpenGL)\nenum WEBGL_CONST {\n  ARRAY_BUFFER = 34962,\n  ELEMENT_ARRAY_BUFFER = 34963,\n  BYTE = 5120,\n  UNSIGNED_BYTE = 5121,\n  SHORT = 5122,\n  UNSIGNED_SHORT = 5123,\n  UNSIGNED_INT = 5125,\n  FLOAT = 5126,\n  LINEAR = 9729,\n  REPEAT = 10497,\n}\n\nconst BLENDSHAPE_PREFIX = \"blend_\";\nconst MORPH_CONTROLLER_PREFIX = \"BlendShapeController_\";\nconst SPRINGBONE_COLLIDER_NAME = \"vrmColliderSphere\";\n\nconst EXPORTER_VERSION = \"UniVRM-0.64.0\";\n\ntype VRMMaterial = MeshBasicMaterial | MeshStandardMaterial | MToonMaterial;\n\nexport default class VRMExporter {\n  parse(vrm: VRM, onDone: (buffer: ArrayBuffer) => void): void {\n    const scene = vrm.scene;\n    const humanoid = vrm.humanoid;\n    const vrmMeta = vrm.meta;\n    const materials = vrm.materials;\n    const blendShapeProxy = vrm.blendShapeProxy;\n    const lookAt = vrm.lookAt;\n    const springBone = vrm.springBoneManager;\n\n    const exporterInfo = {\n      // TODO: \n      generator: \"UniGLTF-2.0.0\",\n      version: \"2.0\",\n    };\n\n    // TODO: \n    if (!scene) {\n      throw new Error(\"scene is undefined or null\");\n    } else if (!humanoid) {\n      throw new Error(\"humanoid is undefined or null\");\n    } else if (!vrmMeta) {\n      throw new Error(\"meta is undefined or null\");\n    } else if (!materials) {\n      throw new Error(\"materials is undefined or null\");\n    } else if (!blendShapeProxy) {\n      throw new Error(\"blendShapeProxy is undefined or null\");\n    } else if (!lookAt) {\n      throw new Error(\"lookAt is undefined or null\");\n    } else if (!springBone) {\n      throw new Error(\"springBone is undefined or null\");\n    }\n\n    // TODO: name \n    const uniqueMaterials = materials\n      .filter(\n        (material, index, self) =>\n          self.findIndex((e) => e.name === material.name) === index\n      )\n      .map((material) => material as VRMMaterial);\n    const uniqueMaterialNames = uniqueMaterials.map(\n      (material) => material.name\n    );\n    const icon: VRMImageData | null = vrmMeta.texture\n      ? { name: \"icon\", imageBitmap: vrmMeta.texture.image }\n      : null; // TODO: \n    const images: Array<VRMImageData> = uniqueMaterials\n      .filter((material) => material.map)\n      .map((material) => {\n        if (!material.map) throw new Error(material.name + \" map is null\");\n        return { name: material.name, imageBitmap: material.map.image };\n      }); // TODO: Material\n    const outputImages = toOutputImages(images, icon);\n    const outputSamplers = toOutputSamplers(outputImages);\n    const outputTextures = toOutputTextures(outputImages);\n\n    const outputMaterials = toOutputMaterials(uniqueMaterials, images);\n\n    const rootNode = scene.children.filter(\n      (child) =>\n        child.children.length > 0 &&\n        child.children[0].type === VRMObjectType.Bone\n    )[0];\n    const nodes = getNodes(rootNode).filter(\n      (node) => node.name !== SPRINGBONE_COLLIDER_NAME\n    );\n    const nodeNames = nodes.map((node) => node.name);\n    const outputNodes: Array<OutputNode> = nodes.map((node) => ({\n      children: node.children\n        .filter((childNode) => childNode.name !== SPRINGBONE_COLLIDER_NAME)\n        .map((childNode) => nodeNames.indexOf(childNode.name)),\n      name: node.name,\n      rotation: [\n        node.quaternion.x,\n        node.quaternion.y,\n        node.quaternion.z,\n        node.quaternion.w,\n      ],\n      scale: [node.scale.x, node.scale.y, node.scale.z],\n      translation: [node.position.x, node.position.y, node.position.z],\n    }));\n\n    const outputAccessors: Array<OutputAccessor> = [];\n\n    const meshes = scene.children.filter(\n      (child) =>\n        child.type === VRMObjectType.Group ||\n        child.type === VRMObjectType.SkinnedMesh\n    );\n\n    const meshDatas: Array<MeshData> = [];\n    meshes.forEach((object) => {\n      const mesh = (object.type === VRMObjectType.Group\n        ? object.children[0]\n        : object) as VRMSkinnedMesh;\n      const attributes = mesh.geometry.attributes;\n      meshDatas.push(\n        new MeshData(\n          attributes.position,\n          WEBGL_CONST.FLOAT,\n          MeshDataType.POSITION,\n          AccessorsType.VEC3,\n          mesh.name,\n          undefined\n        )\n      );\n      meshDatas.push(\n        new MeshData(\n          attributes.normal,\n          WEBGL_CONST.FLOAT,\n          MeshDataType.NORMAL,\n          AccessorsType.VEC3,\n          mesh.name,\n          undefined\n        )\n      );\n      meshDatas.push(\n        new MeshData(\n          attributes.uv,\n          WEBGL_CONST.FLOAT,\n          MeshDataType.UV,\n          AccessorsType.VEC2,\n          mesh.name,\n          undefined\n        )\n      );\n      meshDatas.push(\n        new MeshData(\n          attributes.skinWeight,\n          WEBGL_CONST.FLOAT,\n          MeshDataType.SKIN_WEIGHT,\n          AccessorsType.VEC4,\n          mesh.name,\n          undefined\n        )\n      );\n      meshDatas.push(\n        new MeshData(\n          attributes.skinIndex,\n          WEBGL_CONST.UNSIGNED_SHORT,\n          MeshDataType.SKIN_INDEX,\n          AccessorsType.VEC4,\n          mesh.name,\n          undefined\n        )\n      );\n\n      const subMeshes =\n        object.type === VRMObjectType.Group\n          ? object.children.map((child) => child as VRMSkinnedMesh)\n          : [object as VRMSkinnedMesh];\n      subMeshes.forEach((subMesh) => {\n        if (!subMesh.geometry.index) {\n          throw new Error(subMesh.name + \" geometry.index is null\");\n        }\n        meshDatas.push(\n          new MeshData(\n            subMesh.geometry.index,\n            WEBGL_CONST.UNSIGNED_INT,\n            MeshDataType.INDEX,\n            AccessorsType.SCALAR,\n            mesh.name,\n            subMesh.name\n          )\n        );\n      });\n\n      // TODO: undefiend\n      if (!mesh.morphTargetDictionary) {\n        throw new Error(mesh.name + \" morphTargetDictionary is null\");\n      }\n\n      const morphIndexPair = Object.entries(mesh.morphTargetDictionary);\n      if (mesh.geometry.userData.targetNames) {\n        mesh.geometry.userData.targetNames.forEach((targetName) => {\n          const morphIndex = morphIndexPair.filter(\n            (pair) => pair[0] === targetName\n          )[0][1];\n          const morphAttribute = mesh.geometry.morphAttributes;\n          meshDatas.push(\n            new MeshData(\n              morphAttribute.position[morphIndex],\n              WEBGL_CONST.FLOAT,\n              MeshDataType.BLEND_POSITION,\n              AccessorsType.VEC3,\n              mesh.name,\n              BLENDSHAPE_PREFIX + targetName\n            )\n          );\n          meshDatas.push(\n            new MeshData(\n              morphAttribute.normal[morphIndex],\n              WEBGL_CONST.FLOAT,\n              MeshDataType.BLEND_NORMAL,\n              AccessorsType.VEC3,\n              mesh.name,\n              BLENDSHAPE_PREFIX + targetName\n            )\n          );\n        });\n      }\n    });\n\n    // inverseBindMatrices length = 16(matrix) * 4 * \n    // TODO: rootNodeBonematrix\n    meshes.forEach((object) => {\n      const mesh = (object.type === VRMObjectType.Group\n        ? object.children[0]\n        : object) as VRMSkinnedMesh;\n      const inverseBindMatrices = new Float32Array(\n        mesh.skeleton.boneInverses.map((boneInv) => boneInv.elements).flat()\n      );\n      meshDatas.push(\n        new MeshData(\n          new BufferAttribute(inverseBindMatrices, 16),\n          WEBGL_CONST.FLOAT,\n          MeshDataType.BIND_MATRIX,\n          AccessorsType.MAT4,\n          mesh.name,\n          mesh.name\n        )\n      );\n    });\n\n    outputAccessors.push(\n      ...meshDatas.map((meshData) => ({\n        bufferView: -1,\n        byteOffset: 0,\n        componentType: meshData.valueType,\n        count: meshData.attribute.count,\n        max: meshData.max,\n        min: meshData.min,\n        normalized: false,\n        type: meshData.accessorsType,\n      }))\n    );\n\n    const outputMeshes = toOutputMeshes(meshes, meshDatas, uniqueMaterialNames);\n\n    // mesh\n    meshes.forEach((group, index) => {\n      outputNodes.push({\n        mesh: index,\n        name: group.name,\n        rotation: [\n          group.quaternion.x,\n          group.quaternion.y,\n          group.quaternion.z,\n          group.quaternion.w,\n        ],\n        scale: [group.scale.x, group.scale.y, group.scale.z],\n        skin: index,\n        translation: [group.position.x, group.position.y, group.position.z],\n      });\n    });\n\n    // secondary\n    const secondaryRootNode = scene.children.filter(\n      (child) => child.name === \"secondary\"\n    )[0];\n    outputNodes.push({\n      name: secondaryRootNode.name,\n      rotation: [\n        secondaryRootNode.quaternion.x,\n        secondaryRootNode.quaternion.y,\n        secondaryRootNode.quaternion.z,\n        secondaryRootNode.quaternion.w,\n      ],\n      scale: [\n        secondaryRootNode.scale.x,\n        secondaryRootNode.scale.y,\n        secondaryRootNode.scale.z,\n      ],\n      translation: [\n        secondaryRootNode.position.x,\n        secondaryRootNode.position.y,\n        secondaryRootNode.position.z,\n      ],\n    });\n\n    const outputSkins = toOutputSkins(meshes, meshDatas, nodeNames);\n\n    // TODO: javascript\n    const blendShapeMaster = {\n      // @ts-ignore: Unreachable code error\n      blendShapeGroups: Object.values(blendShapeProxy._blendShapeGroups).map(\n        (blendShape) => ({\n          // @ts-ignore: Unreachable code error\n          binds: blendShape._binds.map((bind) => ({\n            index: bind.morphTargetIndex,\n            mesh: outputMeshes\n              .map((mesh) => mesh.name)\n              .indexOf(bind.meshes[0].name),\n            weight: bind.weight * 100,\n          })),\n          // @ts-ignore: Unreachable code error\n          isBinary: blendShape.isBinary,\n          // @ts-ignore: Unreachable code error\n          materialValues: blendShape._materialValues,\n          // @ts-ignore: Unreachable code error\n          name: blendShape.name.replace(MORPH_CONTROLLER_PREFIX, \"\"),\n          presetName: Object.entries(\n            blendShapeProxy.blendShapePresetMap\n          ).filter(\n            (x) =>\n              // @ts-ignore: Unreachable code error\n              x[1] === blendShape.name.replace(MORPH_CONTROLLER_PREFIX, \"\")\n          )[0][0],\n        })\n      ),\n    };\n\n    // TODO: javascript\n    // @ts-ignore: Unreachable code error\n    lookAt.firstPerson._firstPersonBoneOffset.z *= -1; // TODO:\n    const vrmFirstPerson = {\n      firstPersonBone: nodeNames.indexOf(\n        // @ts-ignore: Unreachable code error\n        lookAt.firstPerson._firstPersonBone.name\n      ),\n      // @ts-ignore: Unreachable code error\n      firstPersonBoneOffset: lookAt.firstPerson._firstPersonBoneOffset,\n      lookAtHorizontalInner: {\n        // @ts-ignore: Unreachable code error\n        curve: lookAt.applyer._curveHorizontalInner.curve,\n        xRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveHorizontalInner.curveXRangeDegree\n        ),\n        yRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveHorizontalInner.curveYRangeDegree\n        ),\n      },\n      lookAtHorizontalOuter: {\n        // @ts-ignore: Unreachable code error\n        curve: lookAt.applyer._curveHorizontalOuter.curve,\n        xRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveHorizontalOuter.curveXRangeDegree\n        ),\n        yRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveHorizontalOuter.curveYRangeDegree\n        ),\n      },\n      // @ts-ignore: Unreachable code error\n      lookAtTypeName: lookAt.applyer.type,\n      lookAtVerticalDown: {\n        // @ts-ignore: Unreachable code error\n        curve: lookAt.applyer._curveVerticalDown.curve,\n        xRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveVerticalDown.curveXRangeDegree\n        ),\n        yRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveVerticalDown.curveYRangeDegree\n        ),\n      },\n      lookAtVerticalUp: {\n        // @ts-ignore: Unreachable code error\n        curve: lookAt.applyer._curveVerticalUp.curve,\n        xRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveVerticalUp.curveXRangeDegree\n        ),\n        yRange: radian2Degree(\n          // @ts-ignore: Unreachable code error\n          lookAt.applyer._curveVerticalUp.curveYRangeDegree\n        ),\n      },\n      meshAnnotations: lookAt.firstPerson.meshAnnotations.map((annotation) => ({\n        firstPersonFlag: annotation.firstPersonFlag === 0 ? \"Auto\" : \"\", // TODO: \n        mesh: outputMeshes\n          .map((mesh) => mesh.name)\n          .indexOf(\n            annotation.mesh.children.length > 0\n              ? annotation.mesh.children[0].name\n              : annotation.mesh.name\n          ), // TODO: \n      })),\n    };\n\n    const vrmHumanoid = {\n      armStretch: humanoid.humanDescription.armStretch,\n      feetSpacing: humanoid.humanDescription.feetSpacing,\n      hasTranslationDoF: humanoid.humanDescription.hasTranslationDoF,\n      humanBones: Object.entries(humanoid.humanBones)\n        .filter((x) => x[1].length > 0)\n        .map((x) => ({\n          bone: x[0],\n          node: nodeNames.indexOf(x[1][0].node.name),\n          useDefaultValues: true, // TODO:\n        })),\n      legStretch: humanoid.humanDescription.legStretch,\n      lowerArmTwist: humanoid.humanDescription.lowerArmTwist,\n      lowerLegTwist: humanoid.humanDescription.lowerLegTwist,\n      upperArmTwist: humanoid.humanDescription.upperArmTwist,\n      upperLegTwist: humanoid.humanDescription.upperLegTwist,\n    };\n\n    const materialProperties = materials.map(\n      (material) => material.userData.vrmMaterialProperties\n    );\n\n    const outputVrmMeta = ToOutputVRMMeta(vrmMeta, icon, outputImages);\n    const outputSecondaryAnimation = toOutputSecondaryAnimation(\n      springBone,\n      nodeNames\n    );\n\n    const bufferViews: Array<BufferView> = [];\n    bufferViews.push(\n      ...images.map((image) => ({\n        buffer: imageBitmap2png(image.imageBitmap),\n        type: MeshDataType.IMAGE,\n      }))\n    );\n    bufferViews.push(\n      ...meshDatas.map((data) => ({ buffer: data.buffer, type: data.type }))\n    );\n    if (icon)\n      bufferViews.push({\n        buffer: imageBitmap2png(icon.imageBitmap),\n        type: MeshDataType.IMAGE,\n      });\n\n    /* png\n        images.forEach((image, index) => {\n            const fileName = \"test\"+index.toString()+\".png\";\n            const canvas = document.createElement(\"canvas\");\n            canvas.width = image.imageBitmap.width;\n            canvas.height = image.imageBitmap.height;\n            canvas.getContext('2d').drawImage(image.imageBitmap, 0, 0);\n            canvas.toBlob((blob) =>{\n                console.log(blob);\n                const link = document.createElement(\"a\");\n                link.href = URL.createObjectURL(blob);\n                link.download = fileName;\n                // link.click();\n            }, \"image/png\", 1.0);\n        });\n        */\n\n    let bufferOffset = 0;\n    let imageIndex = 0;\n    let accessorIndex = 0;\n    const outputBufferViews: Array<OutputBufferView> = bufferViews.map(\n      (bufferView, index) => {\n        const value = {\n          buffer: 0,\n          byteLength: bufferView.buffer.byteLength,\n          byteOffset: bufferOffset,\n          target:\n            bufferView.type === MeshDataType.IMAGE ||\n            bufferView.type === MeshDataType.BIND_MATRIX\n              ? undefined\n              : bufferView.type === MeshDataType.INDEX\n              ? WEBGL_CONST.ELEMENT_ARRAY_BUFFER\n              : WEBGL_CONST.ARRAY_BUFFER, // TODO: Mesh/indicesELEMENT...\n        };\n        bufferOffset += bufferView.buffer.byteLength;\n        if (bufferView.type === MeshDataType.IMAGE) {\n          outputImages[imageIndex++].bufferView = index;\n        } else {\n          outputAccessors[accessorIndex++].bufferView = index;\n        }\n        return value;\n      }\n    );\n\n    const outputScenes = toOutputScenes(scene, outputNodes);\n\n    const outputData: OutputVRM = {\n      accessors: outputAccessors, // buffer - \n      asset: exporterInfo, // TODO:\n      buffers: [\n        {\n          byteLength: bufferOffset,\n        },\n      ],\n      bufferViews: outputBufferViews,\n      extensions: {\n        VRM: {\n          blendShapeMaster: blendShapeMaster,\n          exporterVersion: EXPORTER_VERSION,\n          firstPerson: vrmFirstPerson,\n          humanoid: vrmHumanoid,\n          materialProperties: materialProperties,\n          meta: outputVrmMeta,\n          secondaryAnimation: outputSecondaryAnimation,\n          specVersion: \"0.0\", // TODO:\n        },\n      },\n      extensionsUsed: [\n        \"KHR_materials_unlit\", // TODO:\n        \"KHR_texture_transform\", // TODO:\n        \"VRM\",\n      ],\n      images: outputImages,\n      materials: outputMaterials,\n      meshes: outputMeshes,\n      nodes: outputNodes,\n      samplers: outputSamplers,\n      scene: 0,\n      scenes: outputScenes,\n      skins: outputSkins,\n      textures: outputTextures,\n    };\n\n    const jsonChunk = new GlbChunk(\n      parseString2Binary(JSON.stringify(outputData, undefined, 2)),\n      \"JSON\"\n    );\n    const binaryChunk = new GlbChunk(\n      concatBinary(bufferViews.map((buf) => buf.buffer)),\n      \"BIN\\x00\"\n    );\n    const fileData = concatBinary([jsonChunk.buffer, binaryChunk.buffer]);\n    const header = concatBinary([\n      parseString2Binary(\"glTF\"),\n      parseNumber2Binary(2, 4),\n      parseNumber2Binary(fileData.byteLength + 12, 4),\n    ]);\n    onDone(concatBinary([header, fileData]));\n  }\n}\n\nfunction radian2Degree(radian: number) {\n  return radian * (180 / Math.PI);\n}\n\nfunction getNodes(parentNode: Object3D | Bone): Array<Object3D | Bone> {\n  if (parentNode.children.length <= 0) return [parentNode];\n  return [parentNode].concat(\n    parentNode.children.map((child) => getNodes(child)).flat()\n  );\n}\n\nfunction imageBitmap2png(image: ImageBitmap) {\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = image.width;\n  canvas.height = image.height;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  canvas.getContext(\"2d\")!.drawImage(image, 0, 0);\n  const pngUrl = canvas.toDataURL(\"image/png\");\n  const data = atob(pngUrl.split(\",\")[1]);\n  const array = new ArrayBuffer(data.length);\n  const view = new DataView(array);\n  for (let i = 0; i < data.length; i++) {\n    view.setUint8(i, data.charCodeAt(i));\n  }\n  return array;\n}\n\nfunction parseNumber2Binary(number: number, size: number) {\n  const buf = new ArrayBuffer(size);\n  const view = new DataView(buf);\n  view.setUint32(0, number, true);\n  return buf;\n}\n\nfunction parseString2Binary(str: string): ArrayBuffer {\n  return new TextEncoder().encode(str).buffer;\n}\n\nfunction concatBinary(arrays: Array<ArrayBuffer>) {\n  let sumLength = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    sumLength += arrays[i].byteLength;\n  }\n  const output = new Uint8Array(sumLength);\n  let pos = 0;\n  for (let i = 0; i < arrays.length; ++i) {\n    output.set(new Uint8Array(arrays[i]), pos);\n    pos += arrays[i].byteLength;\n  }\n  return output.buffer;\n}\n\nfunction parseBinary(attr: BufferAttribute, componentType: number) {\n  const componentTypeSize =\n    componentType === WEBGL_CONST.UNSIGNED_SHORT ? 2 : 4;\n  const array = attr.array;\n  let offset = 0;\n  const buf = new ArrayBuffer(attr.count * attr.itemSize * componentTypeSize);\n  const view = new DataView(buf);\n  for (let i = 0; i < attr.count; i++) {\n    for (let a = 0; a < attr.itemSize; a++) {\n      let value: number;\n      if (attr.itemSize > 4) {\n        value = array[i * attr.itemSize + a];\n      } else {\n        if (a === 0) value = attr.getX(i);\n        else if (a === 1) value = attr.getY(i);\n        else if (a === 2) value = attr.getZ(i);\n        else value = attr.getW(i);\n      }\n\n      if (componentType === WEBGL_CONST.UNSIGNED_SHORT) {\n        view.setUint16(offset, value, true);\n      } else if (componentType === WEBGL_CONST.UNSIGNED_INT) {\n        view.setUint32(offset, value, true);\n      } else {\n        view.setFloat32(offset, value, true);\n      }\n      offset += componentTypeSize;\n    }\n  }\n  return buf;\n}\n\nclass GlbChunk {\n  data: ArrayBuffer;\n  type: string;\n  buffer: ArrayBuffer;\n  constructor(data: ArrayBuffer, type: string) {\n    this.data = data;\n    this.type = type;\n    const buf = this.data; //, this.type === \"JSON\" ? 0x20 : 0x00);\n    this.buffer = concatBinary([\n      parseNumber2Binary(buf.byteLength, 4),\n      parseString2Binary(this.type),\n      buf,\n    ]);\n  }\n\n  // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#structured-json-content\n  paddingBinary(array: ArrayBuffer, value: number) {\n    const paddedLength = Math.ceil(array.byteLength / 4) * 4;\n    if (array.byteLength === paddedLength) return array;\n    const paddedArray = new Uint8Array(paddedLength);\n    paddedArray.set(new Uint8Array(array), 0);\n    for (let i = array.byteLength; i < paddedLength; i++) {\n      paddedArray.set(new Uint8Array(value), i);\n    }\n    return paddedArray.buffer;\n  }\n}\n\nexport class MeshData {\n  attribute: BufferAttribute;\n  valueType: number;\n  type: MeshDataType;\n  accessorsType: AccessorsType;\n  meshName: string;\n  name: string | undefined;\n  buffer: ArrayBuffer;\n  max: [number, number, number] | undefined;\n  min: [number, number, number] | undefined;\n  constructor(\n    attribute: BufferAttribute,\n    valueType: number,\n    type: MeshDataType,\n    accessorsType: AccessorsType,\n    meshName: string,\n    name: string | undefined\n  ) {\n    this.attribute = attribute;\n    this.type = type;\n    this.valueType = valueType;\n    this.accessorsType = accessorsType;\n    this.meshName = meshName;\n    this.name = name;\n    this.buffer = parseBinary(this.attribute, this.valueType);\n    this.max =\n      type === MeshDataType.POSITION || type === MeshDataType.BLEND_POSITION\n        ? [\n            Math.max.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 0)\n            ),\n            Math.max.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 1)\n            ),\n            Math.max.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 2)\n            ),\n          ]\n        : undefined;\n    this.min =\n      type === MeshDataType.POSITION || type === MeshDataType.BLEND_POSITION\n        ? [\n            Math.min.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 0)\n            ),\n            Math.min.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 1)\n            ),\n            Math.min.apply(\n              null,\n              Array.from(this.attribute.array).filter((_, i) => i % 3 === 2)\n            ),\n          ]\n        : undefined;\n  }\n}\n\nenum MaterialType {\n  MeshBasicMaterial = \"MeshBasicMaterial\",\n  MeshStandardMaterial = \"MeshStandardMaterial\",\n  MToonMaterial = \"MToonMaterial\",\n}\n\nenum AccessorsType {\n  SCALAR = \"SCALAR\", // 1\n  VEC2 = \"VEC2\", // 2\n  VEC3 = \"VEC3\", // 3\n  VEC4 = \"VEC4\", // 4\n  MAT4 = \"MAT4\", // 16\n}\n\nenum MeshDataType {\n  POSITION = \"POSITION\",\n  NORMAL = \"NORMAL\",\n  UV = \"UV\",\n  INDEX = \"INDEX\",\n  SKIN_WEIGHT = \"SKIN_WEIGHT\",\n  SKIN_INDEX = \"SKIN_INDEX\",\n  BLEND_POSITION = \"BLEND_POSITION\",\n  BLEND_NORMAL = \"BLEND_NORMAL\",\n  BIND_MATRIX = \"BIND_MATRIX\",\n  IMAGE = \"IMAGE\",\n}\n\nenum VRMObjectType {\n  Group = \"Group\",\n  SkinnedMesh = \"SkinnedMesh\",\n  Object3D = \"Object3D\",\n  Bone = \"Bone\",\n}\n\nexport interface VRMImageData {\n  name: string;\n  imageBitmap: ImageBitmap;\n}\n\ninterface BufferView {\n  buffer: ArrayBuffer;\n  type: MeshDataType;\n}\n\nconst toOutputMeshes = (\n  meshes: Array<Object3D>,\n  meshDatas: Array<MeshData>,\n  uniqueMaterialNames: Array<string>\n): Array<OutputMesh> => {\n  return meshes.map((object) => {\n    const mesh = (object.type === VRMObjectType.Group\n      ? object.children[0]\n      : object) as VRMSkinnedMesh;\n    const subMeshes =\n      object.type === VRMObjectType.Group\n        ? object.children.map((child) => child as VRMSkinnedMesh)\n        : [object as VRMSkinnedMesh];\n    return {\n      extras: {\n        targetNames: mesh.geometry.userData.targetNames,\n      },\n      name: mesh.name, // TODO: \n      primitives: subMeshes.map((subMesh) => {\n        const meshTypes = meshDatas.map((data) =>\n          data.meshName === mesh.name ? data.type : null\n        );\n        const materialName = Array.isArray(subMesh.material)\n          ? subMesh.material[0].name\n          : subMesh.material.name;\n        return {\n          attributes: {\n            JOINTS_0: meshTypes.indexOf(MeshDataType.SKIN_INDEX),\n            NORMAL: meshTypes.indexOf(MeshDataType.NORMAL),\n            POSITION: meshTypes.indexOf(MeshDataType.POSITION),\n            TEXCOORD_0: meshTypes.indexOf(MeshDataType.UV),\n            WEIGHTS_0: meshTypes.indexOf(MeshDataType.SKIN_WEIGHT),\n          },\n          extras: {\n            targetNames: subMesh.geometry.userData.targetNames,\n          },\n          indices: meshDatas\n            .map((data) =>\n              data.type === MeshDataType.INDEX && data.meshName === mesh.name\n                ? data.name\n                : null\n            )\n            .indexOf(subMesh.name),\n          material: uniqueMaterialNames.indexOf(materialName),\n          mode: 4, // TRIANGLES\n          targets: mesh.geometry.userData.targetNames\n            ? mesh.geometry.userData.targetNames.map((targetName) => ({\n                NORMAL: meshDatas\n                  .map((data) =>\n                    data.type === MeshDataType.BLEND_NORMAL &&\n                    data.meshName === mesh.name\n                      ? data.name\n                      : null\n                  )\n                  .indexOf(BLENDSHAPE_PREFIX + targetName),\n                POSITION: meshDatas\n                  .map((data) =>\n                    data.type === MeshDataType.BLEND_POSITION &&\n                    data.meshName === mesh.name\n                      ? data.name\n                      : null\n                  )\n                  .indexOf(BLENDSHAPE_PREFIX + targetName),\n              }))\n            : undefined,\n        };\n      }),\n    };\n  });\n};\n\nconst toOutputSkins = (\n  meshes: Array<Object3D>,\n  meshDatas: Array<MeshData>,\n  nodeNames: Array<string>\n): Array<OutputSkin> => {\n  return meshes.map((object) => {\n    const mesh = (object.type === VRMObjectType.Group\n      ? object.children[0]\n      : object) as VRMSkinnedMesh;\n    return {\n      inverseBindMatrices: meshDatas\n        .map((data) =>\n          data.type === MeshDataType.BIND_MATRIX ? data.meshName : null\n        )\n        .indexOf(mesh.name),\n      joints: mesh.skeleton.bones.map((bone) => nodeNames.indexOf(bone.name)),\n      skeleton: nodeNames.indexOf(mesh.skeleton.bones[0].name),\n    };\n  });\n};\n\nconst toOutputMaterials = (\n  uniqueMaterials: Array<VRMMaterial>,\n  images: Array<VRMImageData>\n): Array<OutputMaterial> => {\n  return uniqueMaterials.map((material) => {\n    let baseColor: [number, number, number, number] | undefined;\n    if (material.type === MaterialType.MToonMaterial) {\n      const mtoonMaterial = material as MToonMaterial;\n      baseColor = mtoonMaterial.color\n        ? [\n            mtoonMaterial.color.x,\n            mtoonMaterial.color.y,\n            mtoonMaterial.color.z,\n            mtoonMaterial.color.w,\n          ]\n        : undefined;\n    } else {\n      const otherMaterial = material as\n        | MeshBasicMaterial\n        | MeshStandardMaterial;\n      baseColor = otherMaterial.color\n        ? [\n            otherMaterial.color.r,\n            otherMaterial.color.g,\n            otherMaterial.color.b,\n            1, // TODO:\n          ]\n        : undefined;\n    }\n    const baseTexture: OutputBaseTexture | undefined = material.map\n      ? {\n          extensions: {\n            KHR_texture_transform: {\n              offset: [0, 0],\n              scale: [1, 1],\n            },\n          },\n          index: images.map((image) => image.name).indexOf(material.name), // TODO: ImageDataMaterial\n          texCoord: 0, // TODO:\n        }\n      : undefined;\n    const metallicFactor = (() => {\n      switch (material.type) {\n        case MaterialType.MeshStandardMaterial:\n          return (material as MeshStandardMaterial).metalness;\n        case MaterialType.MeshBasicMaterial:\n          return 0;\n        default:\n          return 0.5;\n      }\n    })();\n\n    const roughnessFactor = (() => {\n      switch (material.type) {\n        case MaterialType.MeshStandardMaterial:\n          return (material as MeshStandardMaterial).roughness;\n        case MaterialType.MeshBasicMaterial:\n          return 0.9;\n        default:\n          return 0.5;\n      }\n    })();\n\n    return {\n      alphaCutoff: material.alphaTest > 0 ? material.alphaTest : undefined,\n      alphaMode: material.transparent\n        ? \"BLEND\"\n        : material.alphaTest > 0\n        ? \"MASK\"\n        : \"OPAQUE\",\n      doubleSided: material.side === 2, // 2\n      extensions:\n        material.type === MaterialType.MeshBasicMaterial\n          ? {\n              KHR_materials_unlit: {}, // TODO:\n            }\n          : undefined,\n      name: material.name,\n      pbrMetallicRoughness: {\n        baseColorFactor: baseColor,\n        baseColorTexture: baseTexture,\n        metallicFactor: metallicFactor,\n        roughnessFactor: roughnessFactor,\n      },\n    };\n  });\n};\n\nconst toOutputImages = (\n  images: Array<VRMImageData>,\n  icon: VRMImageData | null\n): Array<OutputImage> => {\n  return (icon ? images.concat(icon) : images)\n    .filter((image) => image && image.imageBitmap)\n    .map((image) => ({\n      bufferView: -1,\n      mimeType: \"image/png\", // TODO: png\n      name: image.name, // TODO: \n    }));\n};\n\nconst toOutputSamplers = (\n  outputImages: Array<OutputImage>\n): Array<OutputSampler> => {\n  return outputImages.map(() => ({\n    magFilter: WEBGL_CONST.LINEAR, // TODO: \n    minFilter: WEBGL_CONST.LINEAR, // TODO: \n    wrapS: WEBGL_CONST.REPEAT, // TODO: \n    wrapT: WEBGL_CONST.REPEAT, // TODO: \n  }));\n};\n\nconst toOutputTextures = (\n  outputImages: Array<OutputImage>\n): Array<OutputTexture> => {\n  return outputImages.map((_, index) => ({\n    sampler: index, // TODO: index\n    source: index, // TODO: index\n  }));\n};\n\nconst toOutputScenes = (\n  scene: Scene | Group,\n  outputNodes: Array<OutputNode>\n): Array<OutputScene> => {\n  const nodeNames = outputNodes.map((node) => node.name);\n  return [\n    {\n      nodes: scene.children\n        .filter(\n          (child) =>\n            child.type === VRMObjectType.Object3D ||\n            child.type === VRMObjectType.SkinnedMesh ||\n            child.type === VRMObjectType.Group\n        )\n        .map((x) => nodeNames.indexOf(x.name)),\n    },\n  ];\n};\n\nconst toOutputSecondaryAnimation = (\n  springBone: VRMSpringBoneManager,\n  nodeNames: Array<string>\n): OutputSecondaryAnimation => {\n  return {\n    boneGroups:\n      springBone.springBoneGroupList[0] &&\n      springBone.springBoneGroupList[0].length > 0\n        ? springBone.springBoneGroupList.map((group) => ({\n            bones: group.map((e) => nodeNames.indexOf(e.bone.name)), // TODO: index42\n            center: group[0].center\n              ? nodeNames.indexOf(group[0].center.name) // TODO: null\n              : -1,\n            colliderGroups: springBone.colliderGroups.map((_, index) => index), // TODO: index\n            dragForce: group[0].dragForce, // TODO: \n            gravityDir: {\n              x: group[0].gravityDir.x, // TODO: \n              y: group[0].gravityDir.y, // TODO: \n              z: group[0].gravityDir.z, // TODO: \n            },\n            gravityPower: group[0].gravityPower, // TODO: \n            hitRadius: group[0].radius, // TODO: \n            stiffiness: group[0].stiffnessForce, // TODO: \n          }))\n        : [\n            {\n              bones: [],\n              center: -1,\n              colliderGroups: [],\n              dragForce: 0.4,\n              gravityDir: {\n                x: 0,\n                y: -1,\n                z: 0,\n              },\n              gravityPower: 0,\n              hitRadius: 0.02,\n              stiffiness: 1,\n            },\n          ], // TODO: 2\n    colliderGroups: springBone.colliderGroups.map((group) => ({\n      colliders: [\n        {\n          offset: {\n            x: group.colliders[0].position.x,\n            y: group.colliders[0].position.y,\n            z: group.colliders[0].position.z,\n          },\n          radius: group.colliders[0].geometry.boundingSphere\n            ? group.colliders[0].geometry.boundingSphere.radius\n            : undefined,\n        },\n      ],\n      node: group.node,\n    })),\n  };\n};\n","import { VRMMeta } from \"@pixiv/three-vrm\";\nimport { OutputVRMMeta } from \"./OutputVRMInterfaces\";\nimport { VRMImageData } from \"./VRMExporter\";\n\ntype OutputImage = {\n  bufferView: number;\n  mimeType: string;\n  name: string;\n};\n\nexport function ToOutputVRMMeta(\n  vrmMeta: VRMMeta,\n  icon: VRMImageData | null,\n  outputImage: Array<OutputImage>\n): OutputVRMMeta {\n  return {\n    allowedUserName: vrmMeta.allowedUserName,\n    author: vrmMeta.author,\n    commercialUssageName: vrmMeta.commercialUssageName,\n    contactInformation: vrmMeta.contactInformation,\n    licenseName: vrmMeta.licenseName,\n    otherLicenseUrl: vrmMeta.otherLicenseUrl,\n    otherPermissionUrl: vrmMeta.otherPermissionUrl,\n    reference: vrmMeta.reference,\n    sexualUssageName: vrmMeta.sexualUssageName,\n    texture: icon ? outputImage.length - 1 : undefined,\n    title: vrmMeta.title,\n    version: vrmMeta.version,\n    violentUssageName: vrmMeta.violentUssageName,\n  };\n}\n","\n\n\n\n\n\n\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { GLTFExporter } from \"three/examples/jsm/exporters/GLTFExporter\";\nimport { VRM, VRMMeta } from \"@pixiv/three-vrm\";\n\nimport VRMExporter from \"@/scripts/VRMExporter\";\n\n@Component\nexport default class ExportButton extends Vue {\n  @Prop()\n  public vrm!: VRM | null;\n\n  public exportVRM() {\n    if (!this.vrm) return;\n\n    const exporter = new VRMExporter();\n    exporter.parse(this.vrm, (vrm: ArrayBuffer) => {\n      const fileName = \"test.vrm\";\n      const blob = new Blob([vrm], { type: \"octet/stream\" });\n      const link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(blob);\n      link.download = fileName;\n      link.click();\n    });\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ExportButton.vue?vue&type=template&id=9b50d01a&\"\nimport script from \"./ExportButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./ExportButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.vrmObject)?_c('div',_vm._l((_vm.blendShapeInfos),function(blendShapeInfo,meshIndex){return _c('div',{key:meshIndex},[(blendShapeInfo.morphNames.length > 0)?_c('v-simple-table',[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(blendShapeInfo.meshName))]),_c('th',{staticStyle:{\"width\":\"70%\"}})])]),_c('tbody',_vm._l((blendShapeInfo.morphNames),function(morphName,morphIndex){return _c('tr',{key:morphIndex},[_c('td',[_vm._v(_vm._s(morphName))]),_c('td',[_c('v-slider',{attrs:{\"min\":\"0\",\"max\":\"100\"},on:{\"input\":function($event){return _vm.updateBlendShape(meshIndex, morphIndex)}},model:{value:(blendShapeInfo.morphValues[morphIndex]),callback:function ($$v) {_vm.$set(blendShapeInfo.morphValues, morphIndex, $$v)},expression:\"blendShapeInfo.morphValues[morphIndex]\"}})],1)])}),0)]):_vm._e()],1)}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { Group, Scene, SkinnedMesh } from \"three\";\n\ninterface BlendShapeInfo {\n  meshName: string;\n  morphNames: Array<string>;\n  morphValues: Array<number>;\n}\n\n@Component\nexport default class BlendShapeView extends Vue {\n  @Prop()\n  public vrmObject: THREE.Scene | THREE.Group | null = null;\n\n  public blendShapeInfos: Array<BlendShapeInfo> | undefined = undefined;\n\n  @Watch(\"vrmObject\")\n  public LoadBlendShapeInfos(vrmObject: Scene | Group) {\n    this.blendShapeInfos = vrmObject.children\n      .filter((child) => child.type === \"Group\" || child.type === \"SkinnedMesh\")\n      .map((child) => {\n        const mesh = (child.type === \"Group\"\n          ? child.children[0]\n          : child) as SkinnedMesh;\n        return {\n          meshName: child.name,\n          morphNames: mesh.morphTargetDictionary\n            ? Object.keys(mesh.morphTargetDictionary)\n            : Array<string>(),\n          morphValues: mesh.morphTargetDictionary\n            ? Object.keys(mesh.morphTargetDictionary).map((_) => 0)\n            : Array<number>(),\n        };\n      });\n  }\n\n  public updateBlendShape(meshIndex: number, morphIndex: number) {\n    var value = 0;\n    if (this.blendShapeInfos) {\n      value = this.blendShapeInfos[meshIndex].morphValues[morphIndex];\n    }\n    this.$emit(\"updateBlendShape\", { index: morphIndex, value: value });\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlendShapeView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlendShapeView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlendShapeView.vue?vue&type=template&id=05dfed47&\"\nimport script from \"./BlendShapeView.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlendShapeView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BlendShapeView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VSimpleTable,VSlider})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, ProvideReactive, Vue } from \"vue-property-decorator\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { VRM, VRMMeta } from \"@pixiv/three-vrm\";\n\nimport VRMCanvas from \"@/components/VRMCanvasView.vue\"; // @ is an alias to /src\nimport MetaView from \"@/components/MetaView.vue\";\nimport MaterialView from \"@/components/MaterialView.vue\";\nimport ModelInfoView from \"@/components/ModelInfoView.vue\";\nimport ExportButton from \"@/components/ExportButton.vue\";\nimport DragAndDroppableArea from \"@/components/DragAndDroppableArea.vue\";\nimport {\n  Material,\n  MeshBasicMaterial,\n  MeshStandardMaterial,\n  SkinnedMesh,\n} from \"three\";\nimport BlendShapeView from \"@/components/BlendShapeView.vue\";\n\ninterface HTMLInputEvent extends Event {\n  target: HTMLInputElement & EventTarget;\n}\n\n@Component({\n  components: {\n    VRMCanvas,\n    MetaView,\n    MaterialView,\n    ModelInfoView,\n    ExportButton,\n    DragAndDroppableArea,\n    BlendShapeView,\n  },\n})\nexport default class Home extends Vue {\n  @Prop()\n  public vrm!: VRM | null;\n\n  @Prop()\n  public meta!: VRMMeta | undefined | null;\n\n  @Prop()\n  public materials!: THREE.Material[] | undefined | null;\n\n  @ProvideReactive(\"vrmObject\")\n  public vrmObject: THREE.Scene | THREE.Group | null = null;\n\n  @Prop()\n  public exporterVersion!: string;\n\n  @Prop({ default: 0 })\n  public currentTab!: Number;\n\n  public onFileChange(e: HTMLInputEvent) {\n    if (e.target.files === null) return;\n\n    const file = e.target.files[0];\n    const url: string = window.URL.createObjectURL(file);\n\n    this.loadVrm(url);\n  }\n\n  public loadVrm(url: string) {\n    const loader = new GLTFLoader();\n    loader.load(\n      // URL of the VRM you want to load\n      url,\n\n      // called when the resource is loaded\n      (gltf) => {\n        console.log(gltf);\n        const vrmExtension = gltf.userData.gltfExtensions.VRM;\n        this.exporterVersion = vrmExtension.exporterVersion\n          ? vrmExtension.exporterVersion\n          : \"UniVRM-\" + vrmExtension.version;\n        console.log(this.exporterVersion);\n        VRM.from(gltf) // generate a VRM instance from gltf\n          .then((vrm) => {\n            // deal with vrm features\n            this.vrm = vrm;\n            this.meta = vrm.meta;\n            this.materials = vrm.materials;\n            this.vrmObject = vrm.scene;\n            console.log(vrm);\n          });\n      },\n\n      // called while loading is progressing\n      (progress) =>\n        console.log(\n          \"Loading model...\",\n          100.0 * (progress.loaded / progress.total),\n          \"%\"\n        ),\n\n      // called when loading has errors\n      (error) => console.error(error)\n    );\n  }\n\n  public updateMaterial(changedMaterial: Material) {\n    this.vrmObject?.traverse((mesh) => {\n      if (mesh.type === \"SkinnedMesh\") {\n        if (\n          ((mesh as SkinnedMesh).material as Array<Material>)[0].name ===\n          changedMaterial.name\n        ) {\n          const newMaterial = changedMaterial.clone() as\n            | MeshBasicMaterial\n            | MeshStandardMaterial;\n          ((mesh as SkinnedMesh).material as Array<Material>)[0] = newMaterial;\n          newMaterial.needsUpdate = true;\n\n          if (newMaterial.map) {\n            newMaterial.map.needsUpdate = true;\n          }\n        }\n      }\n    });\n  }\n\n  public changeTab(tabNumber: Number) {\n    this.currentTab = tabNumber;\n  }\n\n  public reloadPage() {\n    location.reload();\n  }\n\n  public updateBlendShape(args: any) {\n    this.vrmObject?.children\n      .filter((child) => child.type === \"Group\" || child.type === \"SkinnedMesh\")\n      .map((child) => {\n        const mesh = (child.type === \"Group\"\n          ? child.children[0]\n          : child) as THREE.SkinnedMesh;\n\n        if (mesh.morphTargetInfluences) {\n          mesh.morphTargetInfluences[args.index] = args.value / 100;\n        }\n      });\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=6557f661&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VCard,VIcon,VSpacer,VTab,VTabs,VToolbarTitle})\n","import Vue from \"vue\";\nimport VueRouter, { RouteConfig } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\n\nVue.use(VueRouter);\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home,\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"about\" */ \"../views/About.vue\"),\n  },\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n});\n\nexport default router;\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {},\n});\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib/framework\";\n\nVue.use(Vuetify);\n\nexport default new Vuetify({});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport vuetify from \"./plugins/vuetify\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetaView.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}