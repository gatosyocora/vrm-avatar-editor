(function(e){function t(t){for(var r,c,o=t[0],u=t[1],s=t[2],l=0,v=[];l<o.length;l++)c=o[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&v.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);m&&m(t);while(v.length)v.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function c(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"389f0fcf"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=c(e);var s=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}a[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/vrm-avatar-editor/",o.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var m=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";n("85ec")},"0bc1":function(e,t,n){},"5ced":function(e,t,n){},"5dd5":function(e,t,n){e.exports=n.p+"img/com-ng.793a7be9.png"},6978:function(e,t,n){},"6fcb":function(e,t,n){e.exports=n.p+"img/vio-ok.5769aa56.png"},"82ac":function(e,t,n){e.exports=n.p+"img/sex-ng.163d307d.png"},"85ec":function(e,t,n){},"91f6":function(e,t,n){e.exports=n.p+"img/com-ok.23d22946.png"},"9dd2":function(e,t,n){"use strict";n("6978")},c7a0:function(e,t,n){e.exports=n.p+"img/sex-ok.cc9d8cf5.png"},cccb:function(e,t,n){"use strict";n("5ced")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],c=(n("034f"),n("2877")),o={},u=Object(c["a"])(o,a,i,!1,null,null,null),s=u.exports,l=(n("d3b7"),n("8c4f")),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("center",[n("p",[n("b",[e._v("VRM Avatar Editor")])]),n("p",[e._v("ローカル環境で処理しているため、VRMファイルをサーバーにアップロードしていません。")]),n("div",{staticClass:"top layer-size"},[n("div",{staticClass:"layer2 layer-size layer white",class:{outline:e.isDragOver},on:{dragover:function(t){return t.preventDefault(),e.onDrag("over")},dragleave:function(t){return t.preventDefault(),e.onDrag("leave")},drop:function(t){return t.preventDefault(),e.onDrop(t)}}},[n("div",[e._v("VRMをドラッグ&ドロップ")]),n("p",[n("input",{attrs:{type:"file",accept:".vrm"},on:{change:e.onFileChange}})])]),n("VRMCanvas",{staticClass:"layer1 layer-size layer",attrs:{vrmObject:e.vrmObject}})],1),e.vrmObject?n("ul",{staticClass:"tabs"},[n("li",{class:{active:0===e.currentTab},on:{click:function(t){return e.changeTab(0)}}},[e._v("Meta")]),n("li",{class:{active:1===e.currentTab},on:{click:function(t){return e.changeTab(1)}}},[e._v("Materials")]),n("li",{class:{active:2===e.currentTab},on:{click:function(t){return e.changeTab(2)}}},[e._v("Model")])]):e._e(),n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.currentTab,expression:"currentTab === 0"}]},[n("MetaView",{attrs:{meta:e.meta}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.currentTab,expression:"currentTab === 1"}]},[n("MaterialView",{attrs:{materials:e.materials}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.currentTab,expression:"currentTab === 2"}]},[n("ModelInfoView",{attrs:{vrmObject:e.vrmObject,materials:e.materials}})],1)])])],1)},v=[],d=(n("3ca3"),n("ddb0"),n("2b3d"),n("d4ec")),f=n("bee2"),p=n("262e"),b=n("2caf"),h=n("9ab4"),g=n("60a3"),O=n("34ad"),j=n("f7e7"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{attrs:{id:"canvas",width:"600",height:"400"}})},_=[],w=n("5a89"),C=function(e){Object(p["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.scene=new w["Scene"],e.renderer=null,e.camera=new w["PerspectiveCamera"](75,1.5,.1,1e3),e.light=new w["DirectionalLight"](16777215),e.meta=null,e.materials=null,e.vrmObject=null,e}return Object(f["a"])(n,[{key:"mounted",value:function(){var e=document.getElementById("canvas");null!==e&&(this.renderer=new w["WebGLRenderer"]({antialias:!0,canvas:e}),this.camera.position.set(0,1,-1.5),this.camera.rotation.set(0,Math.PI,0),this.light.position.set(0,0,10),this.scene.add(this.light),this.animate())}},{key:"animate",value:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)}},{key:"updateVrm",value:function(e){this.vrmObject&&(this.scene=new w["Scene"],this.scene.add(this.light),this.animate()),this.vrmObject=e,null!==e&&this.scene.add(this.vrmObject)}}]),n}(g["c"]);Object(h["a"])([Object(g["b"])()],C.prototype,"meta",void 0),Object(h["a"])([Object(g["b"])()],C.prototype,"materials",void 0),Object(h["a"])([Object(g["b"])()],C.prototype,"vrmObject",void 0),Object(h["a"])([Object(g["d"])("vrmObject",{immediate:!0})],C.prototype,"updateVrm",null),C=Object(h["a"])([g["a"]],C);var k=C,M=k,x=Object(c["a"])(M,y,_,!1,null,null,null),T=x.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.meta?r("div",[r("div",["Allow"===e.meta.commercialUssageName?r("img",{staticClass:"license-img",attrs:{src:n("91f6")}}):r("img",{staticClass:"license-img",attrs:{src:n("5dd5")}}),"Allow"===e.meta.sexualUssageName?r("img",{staticClass:"license-img",attrs:{src:n("c7a0")}}):r("img",{staticClass:"license-img",attrs:{src:n("82ac")}}),"Allow"===e.meta.violentUssageName?r("img",{staticClass:"license-img",attrs:{src:n("6fcb")}}):r("img",{staticClass:"license-img",attrs:{src:n("d889")}})]),e.meta?r("div",{staticClass:"undot-list centering-list my-list"},[r("ul",[r("li",[e._v("Title : "+e._s(e.meta.title))]),r("li",[e._v("Version : "+e._s(e.meta.version))]),r("li",[e._v("Author : "+e._s(e.meta.author))]),r("li",[e._v("AllowUser : "+e._s(e.meta.allowedUserName))]),r("li",[e._v("CommercialUssage : "+e._s(e.meta.commercialUssageName))]),r("li",[e._v("SexualUssage : "+e._s(e.meta.sexualUssageName))]),r("li",[e._v("ViolentUssage : "+e._s(e.meta.violentUssageName))]),r("li",[e._v("LicenseName : "+e._s(e.meta.licenseName))]),r("li",[e._v("OtherLicense : "),r("a",{attrs:{href:e.meta.otherLicenseUrl,target:"_blank"}},[e._v(" "+e._s(e.meta.otherLicenseUrl)+" ")])]),r("li",[e._v("OtherPermission : "),r("a",{attrs:{href:e.meta.otherPermissionUrl,target:"_blank"}},[e._v(" "+e._s(e.meta.otherPermissionUrl)+" ")])]),r("li",[e._v("ContactInformation : "),r("a",{attrs:{href:e.meta.contactInformation,target:"_blank"}},[e._v(" "+e._s(e.meta.contactInformation)+" ")])]),r("li",[e._v("Reference : "+e._s(e.meta.reference))])])]):e._e()]):e._e()},P=[],U=(n("4de4"),n("4160"),n("caad"),n("d81d"),n("13d5"),n("159b"),function(e){Object(p["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.meta=null,e.vrmObject=null,e}return Object(f["a"])(n,[{key:"getMeshCount",value:function(e){return e.filter((function(e){return["Group","SkinnedMesh"].includes(e.type)})).length}},{key:"getPolygonCount",value:function(e){return e.filter((function(e){return["Group","SkinnedMesh"].includes(e.type)})).map((function(e){return"Group"===e.type?e.children.map((function(e){return e.geometry.groups[0].count})).reduce((function(e,t){return e+t}),0):e.geometry.groups[0].count})).reduce((function(e,t){return e+t}),0)/3}},{key:"getBlendShapeCount",value:function(e){var t=0;return e.forEach((function(e){"Group"===e.type&&(t+=e.children[0].geometry.userData.targetNames.length)})),t}}]),n}(g["c"]));Object(h["a"])([Object(g["b"])()],U.prototype,"meta",void 0),Object(h["a"])([Object(g["b"])()],U.prototype,"vrmObject",void 0),U=Object(h["a"])([g["a"]],U);var V=U,N=V,D=(n("dc9f"),Object(c["a"])(N,S,P,!1,null,null,null)),R=D.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.materials?n("div",e._l(e.materials,(function(t,r){return n("div",{attrs:{id:"material-list"}},[n("div",[n("p",[e._v(" "+e._s(t.name)+" "+e._s(e.convertRGB2Hex(t.color))+" "+e._s(t.map.image.width)+"x"+e._s(t.map.image.height)+" "+e._s(t.userData.vrmMaterialProperties.shader)+" ")])])])})),0):e._e()},L=[],G=(n("a9e3"),n("25f0"),function(e){Object(p["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.materials=null,e}return Object(f["a"])(n,[{key:"convertRGB2Hex",value:function(e){var t=Math.round(255*Number(e.r)),n=Math.round(255*Number(e.g)),r=Math.round(255*Number(e.b));return"#"+t.toString(16)+n.toString(16)+r.toString(16)}}]),n}(g["c"]));Object(h["a"])([Object(g["b"])()],G.prototype,"materials",void 0),G=Object(h["a"])([g["a"]],G);var A=G,B=A,I=(n("9dd2"),Object(c["a"])(B,E,L,!1,null,null,null)),$=I.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.vrmObject?n("div",[null!==e.vrmObject.children?n("p",[e._v("Mesh Count: "+e._s(e.getMeshCount(e.vrmObject.children)))]):e._e(),null!==e.materials?n("p",[e._v("SubMesh Count: "+e._s(e.materials.length))]):e._e(),null!==e.vrmObject.children?n("p",[e._v("Polygon Count: "+e._s(e.getPolygonCount(e.vrmObject.children)))]):e._e(),null!==e.vrmObject.children?n("p",[e._v("Bone Count: "+e._s(e.getBoneCount(e.vrmObject.children)))]):e._e(),null!==e.vrmObject.children?n("p",[e._v("BlendShape Count: "+e._s(e.getBlendShapeCount(e.vrmObject.children)))]):e._e()]):e._e()},F=[],H=(n("b0c0"),function(e){Object(p["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.materials=null,e.vrmObject=null,e}return Object(f["a"])(n,[{key:"getMeshCount",value:function(e){return e.filter((function(e){return["Group","SkinnedMesh"].includes(e.type)})).length}},{key:"getPolygonCount",value:function(e){return e.filter((function(e){return["Group","SkinnedMesh"].includes(e.type)})).map((function(e){return"Group"===e.type?e.children.map((function(e){return e.geometry.groups[0].count})).reduce((function(e,t){return e+t}),0):e.geometry.groups[0].count})).reduce((function(e,t){return e+t}),0)/3}},{key:"getBoneCount",value:function(e){return this.getChildrenCount(e.filter((function(e){return"Armature"===e.name}))[0])}},{key:"getChildrenCount",value:function(e){var t=this;return 0===e.children.length?0:e.children.map((function(e){return t.getChildrenCount(e)})).reduce((function(e,t){return e+t}),0)+e.children.length}},{key:"getBlendShapeCount",value:function(e){var t=0;return e.forEach((function(e){"Group"===e.type&&(t+=e.children[0].geometry.userData.targetNames.length)})),t}}]),n}(g["c"]));Object(h["a"])([Object(g["b"])()],H.prototype,"materials",void 0),Object(h["a"])([Object(g["b"])()],H.prototype,"vrmObject",void 0),H=Object(h["a"])([g["a"]],H);var q=H,J=q,W=Object(c["a"])(J,z,F,!1,null,null,null),K=W.exports,Q=function(e){Object(p["a"])(n,e);var t=Object(b["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.apply(this,arguments),e.meta=null,e.materials=null,e.vrmObject=null,e.currentTab=0,e.isDragOver=!1,e}return Object(f["a"])(n,[{key:"onDrag",value:function(e){this.isDragOver="over"===e}},{key:"onDrop",value:function(e){if(null!==e.dataTransfer&&null!==e.dataTransfer.files){this.isDragOver=!1;var t=e.dataTransfer.files[0],n=window.URL.createObjectURL(t);this.loadVrm(n)}}},{key:"onFileChange",value:function(e){if(null!==e.target.files){var t=e.target.files[0],n=window.URL.createObjectURL(t);this.loadVrm(n)}}},{key:"loadVrm",value:function(e){var t=this,n=new O["a"];n.load(e,(function(e){j["VRM"].from(e).then((function(e){t.meta=e.meta,t.materials=e.materials,t.vrmObject=e.scene,console.log(e)}))}),(function(e){return console.log("Loading model...",e.loaded/e.total*100,"%")}),(function(e){return console.error(e)}))}},{key:"changeTab",value:function(e){this.currentTab=e}}]),n}(g["c"]);Object(h["a"])([Object(g["b"])()],Q.prototype,"meta",void 0),Object(h["a"])([Object(g["b"])()],Q.prototype,"materials",void 0),Object(h["a"])([Object(g["b"])()],Q.prototype,"vrmObject",void 0),Object(h["a"])([Object(g["b"])()],Q.prototype,"currentTab",void 0),Q=Object(h["a"])([Object(g["a"])({components:{VRMCanvas:T,MetaView:R,MaterialView:$,ModelInfoView:K}})],Q);var X=Q,Y=X,Z=(n("cccb"),Object(c["a"])(Y,m,v,!1,null,null,null)),ee=Z.exports;r["a"].use(l["a"]);var te=[{path:"/",name:"Home",component:ee},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],ne=new l["a"]({mode:"history",base:"/vrm-avatar-editor/",routes:te}),re=ne,ae=n("2f62");r["a"].use(ae["a"]);var ie=new ae["a"].Store({state:{},mutations:{},actions:{},modules:{}});r["a"].config.productionTip=!1,new r["a"]({router:re,store:ie,render:function(e){return e(s)}}).$mount("#app")},d889:function(e,t,n){e.exports=n.p+"img/vio-ng.3c387b56.png"},dc9f:function(e,t,n){"use strict";n("0bc1")}});
//# sourceMappingURL=app.72bc1dbc.js.map